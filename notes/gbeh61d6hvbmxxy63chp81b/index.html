<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="icon" href="/favicon.ico"/><title>Kubernetes</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Personal Wiki / Digital Garden"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="zoobhalu"/><meta name="twitter:creator" content="zoobhalu"/><meta property="og:title" content="Kubernetes"/><meta property="og:description" content="Personal Wiki / Digital Garden"/><meta property="og:url" content="localhost:3000/notes/gbeh61d6hvbmxxy63chp81b/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="5/24/2022"/><meta property="article:modified_time" content="7/16/2022"/><link rel="canonical" href="localhost:3000/notes/gbeh61d6hvbmxxy63chp81b/"/><meta name="next-head-count" content="17"/><link rel="preload" href="/_next/static/css/cc2307f6fd3a2fec.css" as="style"/><link rel="stylesheet" href="/_next/static/css/cc2307f6fd3a2fec.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-709abf7ab5f510de.js" defer=""></script><script src="/_next/static/chunks/framework-bb5c596eafb42b22.js" defer=""></script><script src="/_next/static/chunks/main-c4b0e551a2150d17.js" defer=""></script><script src="/_next/static/chunks/pages/_app-62c5b93605efada7.js" defer=""></script><script src="/_next/static/chunks/78-13ae6acd5ce7ca5b.js" defer=""></script><script src="/_next/static/chunks/373-2f3879190a46a3d9.js" defer=""></script><script src="/_next/static/chunks/pages/notes/%5Bid%5D-69449972c2a725d8.js" defer=""></script><script src="/_next/static/4oDSInv8WeDX6cVSprjyl/_buildManifest.js" defer=""></script><script src="/_next/static/4oDSInv8WeDX6cVSprjyl/_ssgManifest.js" defer=""></script><script src="/_next/static/4oDSInv8WeDX6cVSprjyl/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div style="display:flex" class="ant-col ant-col-xs-20 ant-col-sm-4"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"><div class="ant-select ant-select-lg ant-select-auto-complete ant-select-single ant-select-allow-clear ant-select-show-search" style="width:100%"><div class="ant-select-selector"><span class="ant-select-selection-search"><input type="search" autoComplete="off" class="ant-select-selection-search-input" role="combobox" aria-haspopup="listbox" aria-owns="undefined_list" aria-autocomplete="list" aria-controls="undefined_list" aria-activedescendant="undefined_list_0" value=""/></span><span class="ant-select-selection-placeholder">For full text search please use the &#x27;?&#x27; prefix. e.g. ? Onboarding</span></div></div></div><div style="display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout site-layout" style="margin-top:64px"><section class="ant-layout site-layout"><div class="site-layout-sidebar" style="flex:0 0 auto;width:calc(max((100% - 992px) / 2, 0px) + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);background-color:transparent;flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></div><section class="ant-layout side-layout-main" style="max-width:1200px;display:initial"><main class="ant-layout-content main-content" role="main" style="padding:0 24px"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-18"><div><h1 id="kubernetes"><a aria-hidden="true" class="anchor-heading" href="#kubernetes"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Kubernetes</h1>
<p>Kubernetes is an open-source system for automating deployment, scaling, and management of <a href="/notes/4f08m6qrqyvpf6hfk1898vt">containerized applications</a> in different environments; <a href="/notes/7gs83aparu74kp0h3mkz2p9">Cloud</a>, <a href="/notes/j4lsu8mr5jevc5ykg01ak67">VM</a>s or physical environments. It is a container orchestration tool. Developed by Google.</p>
<p>To understand what Kubernetes is good for, let's look at some examples:</p>
<ul>
<li>You would like to run a certain application in a container on multiple different locations. Sure, if it's 2-3 servers/locations, you can do it by yourself but it can be challenging to scale it up to additional multiple location.</li>
<li>Performing updates and changes across hundreds of containers</li>
<li>Handle cases where the current load requires to scale up (or down)</li>
<li>If you are big team of engineers (e.g. 200) deploying applications using containers and you need to manage scaling, rolling out updates, etc. You probably want to use Kubernetes</li>
<li>The rise of <a href="/notes/pj9hjv8un4c3f0si7fnmvu3">Microservices</a> caused increased usage of container technologies.</li>
<li>Application nowadays comprise of multiple; hundreds to thousands of containers. Managing them using custom scripts can be a pain.</li>
<li>Container orchestration offers:
<ul>
<li>High availability or no downtime.</li>
<li>Scalability or high performance.</li>
<li>Disaster recovery - backup, restore, etc.</li>
</ul>
</li>
</ul>
<h2 id="what-kubernetes-objectscomponents-are-there"><a aria-hidden="true" class="anchor-heading" href="#what-kubernetes-objectscomponents-are-there"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>What Kubernetes objects/components are there?</h2>
<ul>
<li>Pod(s)</li>
<li>Service</li>
<li>ReplicationController</li>
<li>ReplicaSet</li>
<li>DaemonSet</li>
<li>Namespace</li>
<li>ConfigMap</li>
</ul>
<p>can use kubectl to deploy applications, inspect and manage cluster resources, and view logs.</p>
<h3 id="pods"><a aria-hidden="true" class="anchor-heading" href="#pods"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Pods</h3>
<blockquote>
<p>A pod is a collection of containers sharing a network, acting as the basic unit of deployment in <a href="/notes/gbeh61d6hvbmxxy63chp81b">Kubernetes</a>. All containers in a pod are scheduled on the same node.</p>
</blockquote>
<p>An abstraction over a container - a pod creates a layer on top of a container. Usually, only one application is running per pod. You don't directly create pods. You create deployments.</p>
<p>Kubernetes offers a virtual network out of the box. Each pod gets its own IP Address. Which they can use to communicate with each other. It is an internal <a href="/notes/mj7tlpbhhzfpg8pbegkkasb">IP Address</a>.</p>
<p>They're ephemeral, meaning they are not persistent, they can die if the application crashes or if you run out of resources. A new one will automatically be created with new IP Address. To help with this, Kubernetes Service is used.</p>
<h3 id="service-and-ingress"><a aria-hidden="true" class="anchor-heading" href="#service-and-ingress"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Service and Ingress</h3>
<ul>
<li>Static IP Address that can be attached to each pod. Life cycle of a service and a pod are not connected. Even if the pod dies, the service will still be there.</li>
<li>To make the application accessible through a browser, an external service needs to be created that opens communication from external sources. For a database, you'd have an internal service.</li>
<li>It also acts as a load balancer. It will catch a request and forward it to the node that is least busy.</li>
<li><strong>Ingress</strong> is another component of Kubernetes that forwards request to the service. It makes URL more suitable for the end user.</li>
</ul>
<h3 id="configmap-and-secret"><a aria-hidden="true" class="anchor-heading" href="#configmap-and-secret"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>ConfigMap and Secret</h3>
<ul>
<li><strong>ConfigMap</strong> acts as an external configuration file. It is a way to store configuration data that is not in the code. Like a database URL that a pod utilizes.</li>
<li>To store username and password, <strong>Secret</strong> is used. It is not stored in plain text, it is base64 encoded. (This does not mean encryption)</li>
</ul>
<h3 id="volumes"><a aria-hidden="true" class="anchor-heading" href="#volumes"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Volumes</h3>
<ul>
<li>Volumes are used to persistently store data(logs, databases, etc.).</li>
<li>It basically attaches a physical storage - a hard drive or a network drive(local or remote) - to a pod.</li>
<li>K8s explicitly doesn't manage persistent data.</li>
</ul>
<h3 id="deployment-and-statefulset"><a aria-hidden="true" class="anchor-heading" href="#deployment-and-statefulset"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Deployment and StatefulSet</h3>
<ul>
<li>To reduce down time - to make it fault tolerance - you can replicate everything(a node). That is connected to the same service.</li>
<li>This replication of the pod isn't done manually. Instead you'd define a blueprint and tell it how many replicas you want it to run. This is called <strong>Deployment</strong>.</li>
<li>It is a abstraction over pods.</li>
<li>Deployment is used to create StateLess applications.</li>
<li>In practice, you'd be working with deployments not with pods.</li>
<li>You cannot replicate databases with Deployment, since databases have states and it can be prone to inconsistencies if deployments are used to replicate them.</li>
<li><strong>StatefulSet</strong> are used to replicate databases or to create stateful applications. It also take care of scaling them up or down. It makes sure database reads and writes are synchronized.</li>
<li>Deploying StatefulSet applications can be tedious on K8s. It is a common practice to host database applications outside K8s and only have StateLess applications inside K8s cluster.</li>
</ul>
<h2 id="kubernetes-architecture"><a aria-hidden="true" class="anchor-heading" href="#kubernetes-architecture"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Kubernetes Architecture</h2>
<h3 id="worker-machinesnodes"><a aria-hidden="true" class="anchor-heading" href="#worker-machinesnodes"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Worker Machines/Nodes</h3>
<ul>
<li>Each node has multiple pods running on it.</li>
<li>There are 3 process that must be installed on each node that used to schedule and manage the pods.</li>
<li>Nodes are the cluster service that actually do that work.</li>
</ul>
<ol>
<li>Container runtime
<ul>
<li><a href="/notes/wf37vjntme0oklsx52ycrn4">Docker</a></li>
<li><a title="Private" style="color: brown" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank">devlog.cri-o (Private)</a></li>
<li><a title="Private" style="color: brown" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank">devlog.conatinerd (Private)</a> (Most popular)</li>
</ul>
</li>
<li>Kubelet - is the process that actually schedules the pods and the containers underneath. It is the process of Kubernetes that has interfaces with both container runtime and the node(machine) itself. It assigns the resources etc.</li>
<li>Kube Proxy - is the process that forwards the traffic from services to the pods. It has intelligent forwarding logic inside that makes sure the communication works in a performant way with low network overhead.</li>
</ol>
<h3 id="master-node"><a aria-hidden="true" class="anchor-heading" href="#master-node"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Master Node</h3>
<p>All the managing processes are taken care by the Master node inside the K8s cluster. There are 4 processes that are installed on the master node. Completely different process from Worker Nodes that control the cluster state and the Worker Nodes.</p>
<ol>
<li>API Server - if you want to deploy a new application on a K8s cluster, you will interact with this using a client such as Kubernetes dashboard, a CLI tool like Kubelet. It is like a cluster gateway. It receives the initial request(changes) needed to made on the cluster or queries from the cluster and also takes care of authorization.</li>
<li>Scheduler - intelligently decides which Worker Node the next component will run on. It estimates the resources required for your request and schedules a new pod is to be scheduled.</li>
<li>Controller manager - when pods die on a node, it detects state changes and tries to recover the cluster state. It makes the request to the scheduler to restore those dead pods. Scheduler does its thing.</li>
<li>etcd - Key value store that stores the cluster state. It is the brain of the cluster. Every change inside the cluster is saved in this key value store. etcd is how the scheduler gets its info from. The actual application's data is NOT stored on etcd.</li>
</ol>
<p>A K8s cluster is made up of multiple master nodes. Each master node runs its own processes. API Server is load balanced and etcd store does a distributed storage across all master nodes. They don't take a lot of resources compared to the worker nodes as their job is just delegating work.</p>
<h2 id="minikube"><a aria-hidden="true" class="anchor-heading" href="#minikube"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Minikube</h2>
<p>Minikube is a tool that lets you run Kubernetes locally. Minikube runs a single-node Kubernetes cluster on your personal computer so that you can try out Kubernetes, or for daily development work.</p>
<p>It is a one node cluster, master and worker process run on one node. It comes with docker preinstalled. It runs via VM or a hypervisor.</p>
<h2 id="kubectl"><a aria-hidden="true" class="anchor-heading" href="#kubectl"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>kubectl</h2>
<p>Kubectl is the Kubernetes command line tool that allows you to run commands against Kubernetes clusters. For example, you can use it to create, delete, list, and inspect Kubernetes objects. It is basically a client for the Kubernetes API Server.</p>
<ul>
<li>Get all components</li>
</ul>
<p><code>kubectl get all</code>
<code>kubectl get all | grep</code></p>
<ul>
<li>Get status of nodes</li>
</ul>
<p><code>kubectl get nodes</code></p>
<ul>
<li>Get status of pods</li>
</ul>
<p><code>kubectl get pods</code></p>
<ul>
<li>Get status of services</li>
</ul>
<p><code>kubectl get services</code></p>
<ul>
<li>Create components</li>
</ul>
<p><code>kubectl create</code></p>
<ul>
<li>Create deployment</li>
</ul>
<p><code>kubectl create deployment nginx-depl --image=nginx</code> (most basic blueprint, rest are defaults)</p>
<ul>
<li>Get deployments</li>
</ul>
<p><code>kubectl get deployment</code></p>
<ul>
<li>Replicaset - managing replicas of a pod</li>
</ul>
<p><code>kubectl get replicaset</code></p>
<ul>
<li>Edit deployment</li>
</ul>
<p><code>kubectl edit deployment nginx-depl</code> (will get auto-generated config file with default values)</p>
<h3 id="debugging-pods"><a aria-hidden="true" class="anchor-heading" href="#debugging-pods"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Debugging pods</h3>
<p><code>kubectl logs pod-name</code></p>
<ul>
<li>Get additional information about a pod</li>
</ul>
<p><code>kubectl describe pod pod-name</code></p>
<ul>
<li>Get the terminal of the application(pod)</li>
</ul>
<p><code>kubectl exec -it pod-name -- bin/bash</code></p>
<ul>
<li>Delete deployment</li>
</ul>
<p><code>kubectl delete deployment deployment-name</code></p>
<h3 id="kubernetes-deployment-configuration-file"><a aria-hidden="true" class="anchor-heading" href="#kubernetes-deployment-configuration-file"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Kubernetes deployment configuration file</h3>
<p>If a deployment does not exist, it will be created. If it exists, it will be updated.</p>
<p><code>kubectl apply -f deployment.yaml</code>
<code>kubectl apply -f config-file-nginx.yaml</code></p>
<p>It is used for creating and configuring K8s clusters. There are 3 parts to it:</p>
<ol>
<li>Metadata</li>
<li>Specification
<ul>
<li>Attributes are specific to the <code>kind</code></li>
</ul>
</li>
<li>Status (auto-generated and added by kubernetes)
<ul>
<li>Kubernetes will compare the desired with the actual state and if the desired state ≠ actual state, K8 will try to fix it.</li>
</ul>
</li>
</ol>
<p><img src="https://res.cloudinary.com/zubayr/image/upload/v1655117494/wiki/ipq3mbgswsrb0ufg7hrt.png"></p>
<p><img src="https://res.cloudinary.com/zubayr/image/upload/v1655117667/wiki/fakkxkxbdvspydlfnd4f.png"></p>
<ul>
<li>The status is constantly updated, it gets it’s data from <code>etcd</code>.</li>
<li>The format of the configuration file is <a title="Private" style="color: brown" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank">devlog.YAML (Private)</a>.</li>
<li>The code is stored along with the source code of your application or it can have it's own repository.</li>
<li>The configuration file is structured in a "template" or a "blueprint" way.</li>
<li>The connection is made using "selectors" and "labels".</li>
<li>Pods get the label through the template blueprint.</li>
<li>This label is matched by the selector.</li>
<li>To get the configuration of a running deployment, use <code>kubectl get deployment deployment-name -o yaml</code>
<ul>
<li>You'll find a lot of information will be auto-generated by Kubernetes.</li>
</ul>
</li>
<li>To copy a deployment you already have, you'll have to remove auto-generated stuff and clean the configuration file before creating a deployment from it.</li>
<li>You can use the configuration file to delete a deployment. <code>kubectl delete -f deployment.yaml</code></li>
</ul>
<h3 id="creating-a-secret"><a aria-hidden="true" class="anchor-heading" href="#creating-a-secret"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Creating a Secret</h3>
<p><img src="https://res.cloudinary.com/zubayr/image/upload/v1655127535/wiki/ag8cc3fib3l5qtkvwasf.png"></p>
<p>When you store values, don’t use plain text, encode them in base64. For example: <code>echo -n "somevalue" | base64</code></p>
<p><code>kubectl apply -f secrets.yaml</code></p>
<p>Secret once created can be referenced in your deployment configuration files.</p>
<p>Example of secret being referenced:</p>
<p><img src="https://res.cloudinary.com/zubayr/image/upload/v1655127895/wiki/lmddjxbristzwqipuuy3.png"></p>
<h3 id="creating-a-service"><a aria-hidden="true" class="anchor-heading" href="#creating-a-service"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Creating a Service</h3>
<p>Deployment and Service can be put in a single file. You don’t define a type unlike an External Service where type is defined because Internal Service or ClusterIP(it gives an internal IP Address) is the default.</p>
<p>Example of a Service configuration</p>
<p><img src="https://res.cloudinary.com/zubayr/image/upload/v1655128136/wiki/vepvw9yubv8izozijvjo.png"></p>
<p>Reapply the <code>deployment.yaml</code> and the newly added Service will also be created.</p>
<p><img src="https://res.cloudinary.com/zubayr/image/upload/v1655128207/wiki/ljbcr1cfavkzz0lsbjd1.png"></p>
<p>To validate if the Service is attached to the correct Pod, you can run <code>kubectl describe service service-name</code> and cross check <code>endpoints</code> IP Address with the Pod’s <code>kubectl get pod -o wide</code>.</p>
<h3 id="creating-configmap"><a aria-hidden="true" class="anchor-heading" href="#creating-configmap"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Creating ConfigMap</h3>
<p><img src="https://res.cloudinary.com/zubayr/image/upload/v1655128682/wiki/mow4k1vejxaungybxje8.png"></p>
<p>ConfigMap must already be created in the K8s cluster before referencing it.</p>
<p><code>kubectl apply -f configmap.yaml</code></p>
<p>Referencing ConfigMap</p>
<p><img src="https://res.cloudinary.com/zubayr/image/upload/v1655128847/wiki/odygjn3izkrd8gotfhlq.png"></p>
<h3 id="creating-an-external-service"><a aria-hidden="true" class="anchor-heading" href="#creating-an-external-service"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Creating an External Service</h3>
<p>It is very similar to a typical Service. Internal service also acts like a load balancer but an External Service acts like loan balancer by accepting external request by assigning the service an external <a href="/notes/mj7tlpbhhzfpg8pbegkkasb">IP Address</a>.</p>
<p><img src="https://res.cloudinary.com/zubayr/image/upload/v1655129162/wiki/gpts0wcs1wrdij7txbfc.png"></p>
<h2 id="namespaces"><a aria-hidden="true" class="anchor-heading" href="#namespaces"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Namespaces</h2>
<p>Namespaces are a way to organize clusters into virtual sub-clusters — they can be helpful when different teams or projects share a Kubernetes cluster. Any number of namespaces are supported within a cluster, each logically separated from others but with the ability to communicate with each other. Namespaces cannot be nested within each other.</p>
<p>Any resource that exists within Kubernetes exists either in the default namespace or a namespace that is created by the cluster operator. Only nodes and persistent storage volumes exist outside of the namespace; these low-level resources are always visible to every namespace in the cluster.</p>
<p>When you create a cluster by default K8s gives you 4 namespaces out of the box.</p>
<p>To list namepsaces - <code>kubectl get namepsace</code></p>
<p>The Kubernetes-dashboard namespace is shipped automatically in minikube(it is specific to minikube installation).</p>
<ol>
<li><code>kube-system</code></li>
</ol>
<p>It is not meant for your use, you shouldn't modify it. The components that are deployed on <code>kube-system</code> are system processes. They're from master and managing processes or kubectl.</p>
<ol start="2">
<li><code>kube-public</code></li>
</ol>
<p>It has publicly accessible data. A configmap which contains cluster information(accessible even without authentication).</p>
<p>Run <code>kubectl cluster-info</code> to get this information.</p>
<ol start="3">
<li><code>kube-node-lease</code></li>
</ol>
<p>It holds information about the heartbeats of nodes. Each node has associated lease object in namespace which contains information about that node's availability.</p>
<p>4 <code>default</code></p>
<p>This is the namespace that is referenced by default for every Kubernetes command, and where every Kubernetes resource is located by default. Until new namespaces are created, the entire cluster resides in ‘default’.</p>
<h3 id="create-your-own-namespace"><a aria-hidden="true" class="anchor-heading" href="#create-your-own-namespace"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Create your own namespace</h3>
<p>Run <code>kubectl create namespace &#x3C;name-of-namespace></code></p>
<p>OR</p>
<p>Use namespace configuration file to create a namespace(recommended because you can integrate version control).</p>
<p><img src="https://res.cloudinary.com/zubayr/image/upload/v1656236351/wiki/vahcacuyv9fjezvza8e4.png"></p>
<h3 id="when-yo-use-namespace"><a aria-hidden="true" class="anchor-heading" href="#when-yo-use-namespace"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>When yo use namespace</h3>
<p>To avoid your default namespace to get filled with different components that you might use. It can get difficult to manage as you’d have no overview of your resources.</p>
<p>Resources can be ground using namespaces. A way of logically grouping your resources inside the cluster.</p>
<p>For example:</p>
<ul>
<li>A namespace for your DBses and required resources.</li>
<li>A namespace for monitoring, where you can deploy <a href="/notes/9fa6uf6xbnv00fv944o1y1o">Prometheus</a> and all the stuff it needs.</li>
<li>A namespace for <a href="/notes/7520idin610dqsyol0gekds">Elastic Stack</a>, where the <a href="/notes/boyz5i8gtwc9aoj4zfz556y">Elasticsearch</a>, <a href="/notes/ekkap2yav8qo7izvxboph48">Kibana</a> resources go.</li>
<li>A namespace for ngnix-ingress resources.</li>
</ul>
<p>They should be avoided if the project is not that large or doesn’t have that many users(as per official guide) but you can do it anyway instead of throwing everything in the default namespace.</p>
<p><strong>Conflicts</strong></p>
<p>Namespaces are also useful if you’ve multiple teams.
To avoid conflicts such as deploying of the same application in a single namespace and having it overwritten by the other teams. You can use namespaces for different projects inside your cluster.</p>
<p><strong>Resource sharing</strong></p>
<p>Lets say you’ve one cluster and you want to host both staging and development environment in the same cluster(to utilize common resources without having to redeploy them for different environments).</p>
<p><strong>Blue/Green deployment</strong></p>
<p>You can have two different versions of production application that share common resources.</p>
<p><strong>Limit Access and Resources</strong></p>
<p>You can limit access and resources to namespaces when working with multiple teams. Minimizing the risk of one team accidentally interfering with the other. Each team will have their own secure, isolated environment.</p>
<p>You can limit the resources each namespace consumes. You can allot each team a share of resources for their applications.</p>
<h3 id="characteristics-of-namespace"><a aria-hidden="true" class="anchor-heading" href="#characteristics-of-namespace"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Characteristics of Namespace</h3>
<p>You can’t access most resources from another namespace.</p>
<p><strong>Each NS must define it’s own configmap</strong>. Eg: You’ll need to create a configmap for your namespace that is referencing a DB, you cannot use other namespace’s configmap. The same applies for secrets(credentials of a shared service).</p>
<p>What you can access from another NS is a <strong>service</strong>.</p>
<p><img src="https://res.cloudinary.com/zubayr/image/upload/v1656237672/wiki/ijk9q4etvplakbc2gfc0.png"></p>
<p>Where yellow is namespace and white is the service being referred in a configmap.</p>
<p><strong>Components that cannot be namespaced</strong></p>
<p>These components live globally in a cluster, you cannot isolate them in a NS.
Eg: Persistent Volumes, Nodes.</p>
<p>List resources that are not bound to namespace</p>
<p><code>kubectl api-resources --namespaced=false</code></p>
<p>List resources that are bound to namespace</p>
<p><code>kubectl api-resources --namespaced=true</code></p>
<h3 id="create-resource-in-a-namespace"><a aria-hidden="true" class="anchor-heading" href="#create-resource-in-a-namespace"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Create resource in a namespace</h3>
<p>Run <code>kubectl apply -f mysql-configmap.yaml --namespace=my-namespace</code></p>
<p>OR include the destination namespace in the configmap itself</p>
<p><img src="https://res.cloudinary.com/zubayr/image/upload/v1656238019/wiki/jwpagppds4pc1qjvsa2p.png"></p>
<h3 id="get-component-created-in-a-specific-ns"><a aria-hidden="true" class="anchor-heading" href="#get-component-created-in-a-specific-ns"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Get component created in a specific NS</h3>
<p><code>kubectl get configmap -n my-namespace</code></p>
<p>Because by default <strong>it’ll only the default namespace</strong> if you don’t specify.</p>
<h3 id="change-active-ns"><a aria-hidden="true" class="anchor-heading" href="#change-active-ns"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Change active NS</h3>
<p>Switch the default NS to your choice of NS</p>
<p><code>kubectl</code> doesn’t have an solution for this but <code>kubens</code> does!</p>
<p>Install <code>kubectx</code> which will install <code>kubens</code> as well.</p>
<p><code>kubens</code> ran without options will return all the NSes and highlights active NS.</p>
<p><code>kubens my-namespace</code> will switch the active NS to <code>my-namespace</code></p>
<h2 id="etcd"><a aria-hidden="true" class="anchor-heading" href="#etcd"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>etcd</h2>
<h2 id="taints"><a aria-hidden="true" class="anchor-heading" href="#taints"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Taints</h2>
<h2 id="sidecar-containers"><a aria-hidden="true" class="anchor-heading" href="#sidecar-containers"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Sidecar containers</h2>
<ul>
<li><a href="https://www.magalix.com/blog/the-sidecar-pattern">https://www.magalix.com/blog/the-sidecar-pattern</a></li>
</ul>
<h2 id="resources"><a aria-hidden="true" class="anchor-heading" href="#resources"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Resources</h2>
<ul>
<li><a href="https://kubebyexample.com/">Kube by Example Homepage</a></li>
<li><a href="https://kubernetes.io/docs/concepts/_print/">Concepts | Kubernetes</a></li>
<li><a href="https://collabnix.github.io/kubelabs/">An Ultimate Kubernetes Hands-on Labs and Tutorials | kubelabs</a></li>
</ul>
<hr>
<strong>Backlinks</strong>
<ul>
<li><a href="/notes/522ww47pqvt6y0yj8zparmy">DevOps</a></li>
<li><a href="/notes/ervusa6qabwyx7sbb1a4vcg">AWS EKS</a></li>
<li><a href="/notes/5pcm1ulr27lrics6yz2mtp2">Container Orchestration</a></li>
<li><a href="/notes/llkdoaituan5psfnwiw8tf5">EKS cluster information</a></li>
<li><a href="/notes/gvpkbgglehtr9ej5e0uj44j">AWS</a></li>
<li><a href="/notes/5eybx5vd339tjnkglx8igde">Devops Interview Questions</a></li>
<li><a href="/notes/5uu4351w46y16xtyufz0fy4">Helm</a></li>
<li><a href="/notes/fhi59s6yqplah2w1hfx9i5x">kOps</a></li>
<li><a href="/notes/gbeh61d6hvbmxxy63chp81b">Kubernetes</a></li>
<li><a href="/notes/9fa6uf6xbnv00fv944o1y1o">Prometheus</a></li>
<li><a href="/notes/mkwoo3ek4y6bnddpy1iteb9">Terraform</a></li>
</ul></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#what-kubernetes-objectscomponents-are-there" title="What Kubernetes objects/components are there?">What Kubernetes objects/components are there?</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#pods" title="Pods">Pods</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#service-and-ingress" title="Service and Ingress">Service and Ingress</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#configmap-and-secret" title="ConfigMap and Secret">ConfigMap and Secret</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#volumes" title="Volumes">Volumes</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#deployment-and-statefulset" title="Deployment and StatefulSet">Deployment and StatefulSet</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#kubernetes-architecture" title="Kubernetes Architecture">Kubernetes Architecture</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#worker-machinesnodes" title="Worker Machines/Nodes">Worker Machines/Nodes</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#master-node" title="Master Node">Master Node</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#minikube" title="Minikube">Minikube</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#kubectl" title="kubectl">kubectl</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#debugging-pods" title="Debugging pods">Debugging pods</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#kubernetes-deployment-configuration-file" title="Kubernetes deployment configuration file">Kubernetes deployment configuration file</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#creating-a-secret" title="Creating a Secret">Creating a Secret</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#creating-a-service" title="Creating a Service">Creating a Service</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#creating-configmap" title="Creating ConfigMap">Creating ConfigMap</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#creating-an-external-service" title="Creating an External Service">Creating an External Service</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#namespaces" title="Namespaces">Namespaces</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#create-your-own-namespace" title="Create your own namespace">Create your own namespace</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#when-yo-use-namespace" title="When yo use namespace">When yo use namespace</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#characteristics-of-namespace" title="Characteristics of Namespace">Characteristics of Namespace</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#create-resource-in-a-namespace" title="Create resource in a namespace">Create resource in a namespace</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#get-component-created-in-a-specific-ns" title="Get component created in a specific NS">Get component created in a specific NS</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#change-active-ns" title="Change active NS">Change active NS</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#etcd" title="etcd">etcd</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#taints" title="Taints">Taints</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#sidecar-containers" title="Sidecar containers">Sidecar containers</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#resources" title="Resources">Resources</a></div></div></div></div></div></div></div></div></div></main><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></section></section></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"gbeh61d6hvbmxxy63chp81b","title":"Kubernetes","desc":"","updated":1657954267111,"created":1653409437988,"custom":{},"fname":"devlog.kubernetes","type":"note","vault":{"fsPath":".","selfContained":true,"name":"Dendron"},"contentHash":"a34e6a0d096da8aaa71118e426f27bbc","links":[{"type":"wiki","from":{"fname":"devlog.kubernetes","id":"gbeh61d6hvbmxxy63chp81b","vaultName":"Dendron"},"value":"devlog.containers \u0026 images","alias":"containerized applications","position":{"start":{"line":2,"column":91,"offset":91},"end":{"line":2,"column":148,"offset":148},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"devlog.containers \u0026 images"}},{"type":"wiki","from":{"fname":"devlog.kubernetes","id":"gbeh61d6hvbmxxy63chp81b","vaultName":"Dendron"},"value":"devlog.cloud","alias":"devlog.cloud","position":{"start":{"line":2,"column":176,"offset":176},"end":{"line":2,"column":192,"offset":192},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"devlog.cloud"}},{"type":"wiki","from":{"fname":"devlog.kubernetes","id":"gbeh61d6hvbmxxy63chp81b","vaultName":"Dendron"},"value":"devlog.VM","alias":"devlog.VM","position":{"start":{"line":2,"column":194,"offset":194},"end":{"line":2,"column":207,"offset":207},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"devlog.VM"}},{"type":"wiki","from":{"fname":"devlog.kubernetes","id":"gbeh61d6hvbmxxy63chp81b","vaultName":"Dendron"},"value":"devlog.microservices","alias":"devlog.microservices","position":{"start":{"line":10,"column":15,"offset":925},"end":{"line":10,"column":39,"offset":949},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"devlog.microservices"}},{"type":"wiki","from":{"fname":"devlog.kubernetes","id":"gbeh61d6hvbmxxy63chp81b","vaultName":"Dendron"},"value":"devlog.Kubernetes","alias":"devlog.Kubernetes","position":{"start":{"line":31,"column":100,"offset":1634},"end":{"line":31,"column":121,"offset":1655},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"devlog.Kubernetes"}},{"type":"wiki","from":{"fname":"devlog.kubernetes","id":"gbeh61d6hvbmxxy63chp81b","vaultName":"Dendron"},"value":"devlog.IP Address","alias":"devlog.IP Address","position":{"start":{"line":35,"column":156,"offset":2055},"end":{"line":35,"column":177,"offset":2076},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"devlog.IP Address"}},{"type":"wiki","from":{"fname":"devlog.kubernetes","id":"gbeh61d6hvbmxxy63chp81b","vaultName":"Dendron"},"value":"devlog.Docker","alias":"devlog.Docker","position":{"start":{"line":77,"column":6,"offset":4799},"end":{"line":77,"column":23,"offset":4816},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"devlog.Docker"}},{"type":"wiki","from":{"fname":"devlog.kubernetes","id":"gbeh61d6hvbmxxy63chp81b","vaultName":"Dendron"},"value":"devlog.cri-o","alias":"devlog.cri-o","position":{"start":{"line":78,"column":6,"offset":4822},"end":{"line":78,"column":22,"offset":4838},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"devlog.cri-o"}},{"type":"wiki","from":{"fname":"devlog.kubernetes","id":"gbeh61d6hvbmxxy63chp81b","vaultName":"Dendron"},"value":"devlog.conatinerd","alias":"devlog.conatinerd","position":{"start":{"line":79,"column":6,"offset":4844},"end":{"line":79,"column":27,"offset":4865},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"devlog.conatinerd"}},{"type":"wiki","from":{"fname":"devlog.kubernetes","id":"gbeh61d6hvbmxxy63chp81b","vaultName":"Dendron"},"value":"devlog.YAML","alias":"devlog.YAML","position":{"start":{"line":177,"column":43,"offset":9172},"end":{"line":177,"column":58,"offset":9187},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"devlog.YAML"}},{"type":"wiki","from":{"fname":"devlog.kubernetes","id":"gbeh61d6hvbmxxy63chp81b","vaultName":"Dendron"},"value":"devlog.IP Address","alias":"devlog.IP Address","position":{"start":{"line":230,"column":205,"offset":11753},"end":{"line":230,"column":226,"offset":11774},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"devlog.IP Address"}},{"type":"wiki","from":{"fname":"devlog.kubernetes","id":"gbeh61d6hvbmxxy63chp81b","vaultName":"Dendron"},"value":"devlog.Prometheus","alias":"devlog.Prometheus","position":{"start":{"line":283,"column":52,"offset":14291},"end":{"line":283,"column":73,"offset":14312},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"devlog.Prometheus"}},{"type":"wiki","from":{"fname":"devlog.kubernetes","id":"gbeh61d6hvbmxxy63chp81b","vaultName":"Dendron"},"value":"devlog.elastic stack","alias":"devlog.elastic stack","position":{"start":{"line":284,"column":19,"offset":14359},"end":{"line":284,"column":43,"offset":14383},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"devlog.elastic stack"}},{"type":"wiki","from":{"fname":"devlog.kubernetes","id":"gbeh61d6hvbmxxy63chp81b","vaultName":"Dendron"},"value":"devlog.ElasticSearch","alias":"devlog.ElasticSearch","position":{"start":{"line":284,"column":55,"offset":14395},"end":{"line":284,"column":79,"offset":14419},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"devlog.ElasticSearch"}},{"type":"wiki","from":{"fname":"devlog.kubernetes","id":"gbeh61d6hvbmxxy63chp81b","vaultName":"Dendron"},"value":"devlog.kibana","alias":"devlog.kibana","position":{"start":{"line":284,"column":81,"offset":14421},"end":{"line":284,"column":98,"offset":14438},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"devlog.kibana"}},{"from":{"fname":"areas.devops","vaultName":"Dendron"},"type":"backlink","position":{"start":{"line":131,"column":5,"offset":3938},"end":{"line":131,"column":26,"offset":3959},"indent":[]},"value":"devlog.Kubernetes","alias":"devlog.Kubernetes"},{"from":{"fname":"devlog.AWS EKS","vaultName":"Dendron"},"type":"backlink","position":{"start":{"line":6,"column":46,"offset":119},"end":{"line":6,"column":67,"offset":140},"indent":[]},"value":"devlog.Kubernetes","alias":"devlog.Kubernetes"},{"from":{"fname":"devlog.AWS EKS","vaultName":"Dendron"},"type":"backlink","position":{"start":{"line":84,"column":116,"offset":4931},"end":{"line":84,"column":137,"offset":4952},"indent":[]},"value":"devlog.kubernetes","alias":"devlog.kubernetes"},{"from":{"fname":"devlog.Container Orchestration","vaultName":"Dendron"},"type":"backlink","position":{"start":{"line":14,"column":3,"offset":551},"end":{"line":14,"column":24,"offset":572},"indent":[]},"value":"devlog.Kubernetes","alias":"devlog.Kubernetes"},{"from":{"fname":"devlog.EKS cluster information","vaultName":"Dendron"},"type":"backlink","position":{"start":{"line":11,"column":9,"offset":135},"end":{"line":11,"column":30,"offset":156},"indent":[]},"value":"devlog.Kubernetes","alias":"devlog.Kubernetes"},{"from":{"fname":"devlog.aws","vaultName":"Dendron"},"type":"backlink","position":{"start":{"line":120,"column":20,"offset":8486},"end":{"line":120,"column":41,"offset":8507},"indent":[]},"value":"devlog.Kubernetes","alias":"devlog.Kubernetes"},{"from":{"fname":"devlog.devops interview questions","vaultName":"Dendron"},"type":"backlink","position":{"start":{"line":17,"column":1,"offset":750},"end":{"line":17,"column":22,"offset":771},"indent":[]},"value":"devlog.kubernetes","alias":"devlog.kubernetes"},{"from":{"fname":"devlog.devops interview questions","vaultName":"Dendron"},"type":"backlink","position":{"start":{"line":58,"column":197,"offset":3430},"end":{"line":58,"column":218,"offset":3451},"indent":[]},"value":"devlog.kubernetes","alias":"devlog.kubernetes"},{"from":{"fname":"devlog.devops interview questions","vaultName":"Dendron"},"type":"backlink","position":{"start":{"line":151,"column":90,"offset":7045},"end":{"line":151,"column":111,"offset":7066},"indent":[]},"value":"devlog.kubernetes","alias":"devlog.kubernetes"},{"from":{"fname":"devlog.helm","vaultName":"Dendron"},"type":"backlink","position":{"start":{"line":4,"column":1,"offset":158},"end":{"line":4,"column":22,"offset":179},"indent":[]},"value":"devlog.Kubernetes","alias":"devlog.Kubernetes"},{"from":{"fname":"devlog.kOps","vaultName":"Dendron"},"type":"backlink","position":{"start":{"line":2,"column":19,"offset":19},"end":{"line":2,"column":40,"offset":40},"indent":[]},"value":"devlog.Kubernetes","alias":"devlog.Kubernetes"},{"from":{"fname":"devlog.kubernetes","vaultName":"Dendron"},"type":"backlink","position":{"start":{"line":31,"column":100,"offset":1634},"end":{"line":31,"column":121,"offset":1655},"indent":[]},"value":"devlog.Kubernetes","alias":"devlog.Kubernetes"},{"from":{"fname":"devlog.prometheus","vaultName":"Dendron"},"type":"backlink","position":{"start":{"line":4,"column":70,"offset":184},"end":{"line":4,"column":91,"offset":205},"indent":[]},"value":"devlog.kubernetes","alias":"devlog.kubernetes"},{"from":{"fname":"devlog.prometheus","vaultName":"Dendron"},"type":"backlink","position":{"start":{"line":70,"column":56,"offset":3765},"end":{"line":70,"column":77,"offset":3786},"indent":[]},"value":"devlog.kubernetes","alias":"devlog.kubernetes"},{"from":{"fname":"devlog.terraform","vaultName":"Dendron"},"type":"backlink","position":{"start":{"line":36,"column":59,"offset":1753},"end":{"line":36,"column":80,"offset":1774},"indent":[]},"value":"devlog.kubernetes","alias":"devlog.kubernetes"}],"anchors":{"what-kubernetes-objectscomponents-are-there":{"type":"header","text":"What Kubernetes objects/components are there?","value":"what-kubernetes-objectscomponents-are-there","line":23,"column":0,"depth":2},"pods":{"type":"header","text":"Pods","value":"pods","line":35,"column":0,"depth":3},"service-and-ingress":{"type":"header","text":"Service and Ingress","value":"service-and-ingress","line":45,"column":0,"depth":3},"configmap-and-secret":{"type":"header","text":"ConfigMap and Secret","value":"configmap-and-secret","line":52,"column":0,"depth":3},"volumes":{"type":"header","text":"Volumes","value":"volumes","line":57,"column":0,"depth":3},"deployment-and-statefulset":{"type":"header","text":"Deployment and StatefulSet","value":"deployment-and-statefulset","line":63,"column":0,"depth":3},"kubernetes-architecture":{"type":"header","text":"Kubernetes Architecture","value":"kubernetes-architecture","line":74,"column":0,"depth":2},"worker-machinesnodes":{"type":"header","text":"Worker Machines/Nodes","value":"worker-machinesnodes","line":76,"column":0,"depth":3},"master-node":{"type":"header","text":"Master Node","value":"master-node","line":89,"column":0,"depth":3},"minikube":{"type":"header","text":"Minikube","value":"minikube","line":100,"column":0,"depth":2},"kubectl":{"type":"header","text":"kubectl","value":"kubectl","line":106,"column":0,"depth":2},"debugging-pods":{"type":"header","text":"Debugging pods","value":"debugging-pods","line":147,"column":0,"depth":3},"kubernetes-deployment-configuration-file":{"type":"header","text":"Kubernetes deployment configuration file","value":"kubernetes-deployment-configuration-file","line":163,"column":0,"depth":3},"creating-a-secret":{"type":"header","text":"Creating a Secret","value":"creating-a-secret","line":194,"column":0,"depth":3},"creating-a-service":{"type":"header","text":"Creating a Service","value":"creating-a-service","line":208,"column":0,"depth":3},"creating-configmap":{"type":"header","text":"Creating ConfigMap","value":"creating-configmap","line":222,"column":0,"depth":3},"creating-an-external-service":{"type":"header","text":"Creating an External Service","value":"creating-an-external-service","line":234,"column":0,"depth":3},"namespaces":{"type":"header","text":"Namespaces","value":"namespaces","line":240,"column":0,"depth":2},"create-your-own-namespace":{"type":"header","text":"Create your own namespace","value":"create-your-own-namespace","line":270,"column":0,"depth":3},"when-yo-use-namespace":{"type":"header","text":"When yo use namespace","value":"when-yo-use-namespace","line":280,"column":0,"depth":3},"characteristics-of-namespace":{"type":"header","text":"Characteristics of Namespace","value":"characteristics-of-namespace","line":314,"column":0,"depth":3},"create-resource-in-a-namespace":{"type":"header","text":"Create resource in a namespace","value":"create-resource-in-a-namespace","line":339,"column":0,"depth":3},"get-component-created-in-a-specific-ns":{"type":"header","text":"Get component created in a specific NS","value":"get-component-created-in-a-specific-ns","line":347,"column":0,"depth":3},"change-active-ns":{"type":"header","text":"Change active NS","value":"change-active-ns","line":353,"column":0,"depth":3},"etcd":{"type":"header","text":"etcd","value":"etcd","line":365,"column":0,"depth":2},"taints":{"type":"header","text":"Taints","value":"taints","line":367,"column":0,"depth":2},"sidecar-containers":{"type":"header","text":"Sidecar containers","value":"sidecar-containers","line":369,"column":0,"depth":2},"resources":{"type":"header","text":"Resources","value":"resources","line":373,"column":0,"depth":2}},"children":[],"parent":"9gtn7g40cvqui0sifl1s7t5","data":{}},"body":"\u003ch1 id=\"kubernetes\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#kubernetes\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eKubernetes\u003c/h1\u003e\n\u003cp\u003eKubernetes is an open-source system for automating deployment, scaling, and management of \u003ca href=\"/notes/4f08m6qrqyvpf6hfk1898vt\"\u003econtainerized applications\u003c/a\u003e in different environments; \u003ca href=\"/notes/7gs83aparu74kp0h3mkz2p9\"\u003eCloud\u003c/a\u003e, \u003ca href=\"/notes/j4lsu8mr5jevc5ykg01ak67\"\u003eVM\u003c/a\u003es or physical environments. It is a container orchestration tool. Developed by Google.\u003c/p\u003e\n\u003cp\u003eTo understand what Kubernetes is good for, let's look at some examples:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eYou would like to run a certain application in a container on multiple different locations. Sure, if it's 2-3 servers/locations, you can do it by yourself but it can be challenging to scale it up to additional multiple location.\u003c/li\u003e\n\u003cli\u003ePerforming updates and changes across hundreds of containers\u003c/li\u003e\n\u003cli\u003eHandle cases where the current load requires to scale up (or down)\u003c/li\u003e\n\u003cli\u003eIf you are big team of engineers (e.g. 200) deploying applications using containers and you need to manage scaling, rolling out updates, etc. You probably want to use Kubernetes\u003c/li\u003e\n\u003cli\u003eThe rise of \u003ca href=\"/notes/pj9hjv8un4c3f0si7fnmvu3\"\u003eMicroservices\u003c/a\u003e caused increased usage of container technologies.\u003c/li\u003e\n\u003cli\u003eApplication nowadays comprise of multiple; hundreds to thousands of containers. Managing them using custom scripts can be a pain.\u003c/li\u003e\n\u003cli\u003eContainer orchestration offers:\n\u003cul\u003e\n\u003cli\u003eHigh availability or no downtime.\u003c/li\u003e\n\u003cli\u003eScalability or high performance.\u003c/li\u003e\n\u003cli\u003eDisaster recovery - backup, restore, etc.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"what-kubernetes-objectscomponents-are-there\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#what-kubernetes-objectscomponents-are-there\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eWhat Kubernetes objects/components are there?\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003ePod(s)\u003c/li\u003e\n\u003cli\u003eService\u003c/li\u003e\n\u003cli\u003eReplicationController\u003c/li\u003e\n\u003cli\u003eReplicaSet\u003c/li\u003e\n\u003cli\u003eDaemonSet\u003c/li\u003e\n\u003cli\u003eNamespace\u003c/li\u003e\n\u003cli\u003eConfigMap\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003ecan use kubectl to deploy applications, inspect and manage cluster resources, and view logs.\u003c/p\u003e\n\u003ch3 id=\"pods\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#pods\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003ePods\u003c/h3\u003e\n\u003cblockquote\u003e\n\u003cp\u003eA pod is a collection of containers sharing a network, acting as the basic unit of deployment in \u003ca href=\"/notes/gbeh61d6hvbmxxy63chp81b\"\u003eKubernetes\u003c/a\u003e. All containers in a pod are scheduled on the same node.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eAn abstraction over a container - a pod creates a layer on top of a container. Usually, only one application is running per pod. You don't directly create pods. You create deployments.\u003c/p\u003e\n\u003cp\u003eKubernetes offers a virtual network out of the box. Each pod gets its own IP Address. Which they can use to communicate with each other. It is an internal \u003ca href=\"/notes/mj7tlpbhhzfpg8pbegkkasb\"\u003eIP Address\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eThey're ephemeral, meaning they are not persistent, they can die if the application crashes or if you run out of resources. A new one will automatically be created with new IP Address. To help with this, Kubernetes Service is used.\u003c/p\u003e\n\u003ch3 id=\"service-and-ingress\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#service-and-ingress\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eService and Ingress\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eStatic IP Address that can be attached to each pod. Life cycle of a service and a pod are not connected. Even if the pod dies, the service will still be there.\u003c/li\u003e\n\u003cli\u003eTo make the application accessible through a browser, an external service needs to be created that opens communication from external sources. For a database, you'd have an internal service.\u003c/li\u003e\n\u003cli\u003eIt also acts as a load balancer. It will catch a request and forward it to the node that is least busy.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eIngress\u003c/strong\u003e is another component of Kubernetes that forwards request to the service. It makes URL more suitable for the end user.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"configmap-and-secret\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#configmap-and-secret\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eConfigMap and Secret\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eConfigMap\u003c/strong\u003e acts as an external configuration file. It is a way to store configuration data that is not in the code. Like a database URL that a pod utilizes.\u003c/li\u003e\n\u003cli\u003eTo store username and password, \u003cstrong\u003eSecret\u003c/strong\u003e is used. It is not stored in plain text, it is base64 encoded. (This does not mean encryption)\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"volumes\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#volumes\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eVolumes\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eVolumes are used to persistently store data(logs, databases, etc.).\u003c/li\u003e\n\u003cli\u003eIt basically attaches a physical storage - a hard drive or a network drive(local or remote) - to a pod.\u003c/li\u003e\n\u003cli\u003eK8s explicitly doesn't manage persistent data.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"deployment-and-statefulset\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#deployment-and-statefulset\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eDeployment and StatefulSet\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eTo reduce down time - to make it fault tolerance - you can replicate everything(a node). That is connected to the same service.\u003c/li\u003e\n\u003cli\u003eThis replication of the pod isn't done manually. Instead you'd define a blueprint and tell it how many replicas you want it to run. This is called \u003cstrong\u003eDeployment\u003c/strong\u003e.\u003c/li\u003e\n\u003cli\u003eIt is a abstraction over pods.\u003c/li\u003e\n\u003cli\u003eDeployment is used to create StateLess applications.\u003c/li\u003e\n\u003cli\u003eIn practice, you'd be working with deployments not with pods.\u003c/li\u003e\n\u003cli\u003eYou cannot replicate databases with Deployment, since databases have states and it can be prone to inconsistencies if deployments are used to replicate them.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eStatefulSet\u003c/strong\u003e are used to replicate databases or to create stateful applications. It also take care of scaling them up or down. It makes sure database reads and writes are synchronized.\u003c/li\u003e\n\u003cli\u003eDeploying StatefulSet applications can be tedious on K8s. It is a common practice to host database applications outside K8s and only have StateLess applications inside K8s cluster.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"kubernetes-architecture\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#kubernetes-architecture\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eKubernetes Architecture\u003c/h2\u003e\n\u003ch3 id=\"worker-machinesnodes\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#worker-machinesnodes\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eWorker Machines/Nodes\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eEach node has multiple pods running on it.\u003c/li\u003e\n\u003cli\u003eThere are 3 process that must be installed on each node that used to schedule and manage the pods.\u003c/li\u003e\n\u003cli\u003eNodes are the cluster service that actually do that work.\u003c/li\u003e\n\u003c/ul\u003e\n\u003col\u003e\n\u003cli\u003eContainer runtime\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"/notes/wf37vjntme0oklsx52ycrn4\"\u003eDocker\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca title=\"Private\" style=\"color: brown\" href=\"https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html\" target=\"_blank\"\u003edevlog.cri-o (Private)\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca title=\"Private\" style=\"color: brown\" href=\"https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html\" target=\"_blank\"\u003edevlog.conatinerd (Private)\u003c/a\u003e (Most popular)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eKubelet - is the process that actually schedules the pods and the containers underneath. It is the process of Kubernetes that has interfaces with both container runtime and the node(machine) itself. It assigns the resources etc.\u003c/li\u003e\n\u003cli\u003eKube Proxy - is the process that forwards the traffic from services to the pods. It has intelligent forwarding logic inside that makes sure the communication works in a performant way with low network overhead.\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 id=\"master-node\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#master-node\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eMaster Node\u003c/h3\u003e\n\u003cp\u003eAll the managing processes are taken care by the Master node inside the K8s cluster. There are 4 processes that are installed on the master node. Completely different process from Worker Nodes that control the cluster state and the Worker Nodes.\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eAPI Server - if you want to deploy a new application on a K8s cluster, you will interact with this using a client such as Kubernetes dashboard, a CLI tool like Kubelet. It is like a cluster gateway. It receives the initial request(changes) needed to made on the cluster or queries from the cluster and also takes care of authorization.\u003c/li\u003e\n\u003cli\u003eScheduler - intelligently decides which Worker Node the next component will run on. It estimates the resources required for your request and schedules a new pod is to be scheduled.\u003c/li\u003e\n\u003cli\u003eController manager - when pods die on a node, it detects state changes and tries to recover the cluster state. It makes the request to the scheduler to restore those dead pods. Scheduler does its thing.\u003c/li\u003e\n\u003cli\u003eetcd - Key value store that stores the cluster state. It is the brain of the cluster. Every change inside the cluster is saved in this key value store. etcd is how the scheduler gets its info from. The actual application's data is NOT stored on etcd.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eA K8s cluster is made up of multiple master nodes. Each master node runs its own processes. API Server is load balanced and etcd store does a distributed storage across all master nodes. They don't take a lot of resources compared to the worker nodes as their job is just delegating work.\u003c/p\u003e\n\u003ch2 id=\"minikube\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#minikube\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eMinikube\u003c/h2\u003e\n\u003cp\u003eMinikube is a tool that lets you run Kubernetes locally. Minikube runs a single-node Kubernetes cluster on your personal computer so that you can try out Kubernetes, or for daily development work.\u003c/p\u003e\n\u003cp\u003eIt is a one node cluster, master and worker process run on one node. It comes with docker preinstalled. It runs via VM or a hypervisor.\u003c/p\u003e\n\u003ch2 id=\"kubectl\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#kubectl\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003ekubectl\u003c/h2\u003e\n\u003cp\u003eKubectl is the Kubernetes command line tool that allows you to run commands against Kubernetes clusters. For example, you can use it to create, delete, list, and inspect Kubernetes objects. It is basically a client for the Kubernetes API Server.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eGet all components\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003ekubectl get all\u003c/code\u003e\n\u003ccode\u003ekubectl get all | grep\u003c/code\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eGet status of nodes\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003ekubectl get nodes\u003c/code\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eGet status of pods\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003ekubectl get pods\u003c/code\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eGet status of services\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003ekubectl get services\u003c/code\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eCreate components\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003ekubectl create\u003c/code\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eCreate deployment\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003ekubectl create deployment nginx-depl --image=nginx\u003c/code\u003e (most basic blueprint, rest are defaults)\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eGet deployments\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003ekubectl get deployment\u003c/code\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eReplicaset - managing replicas of a pod\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003ekubectl get replicaset\u003c/code\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eEdit deployment\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003ekubectl edit deployment nginx-depl\u003c/code\u003e (will get auto-generated config file with default values)\u003c/p\u003e\n\u003ch3 id=\"debugging-pods\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#debugging-pods\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eDebugging pods\u003c/h3\u003e\n\u003cp\u003e\u003ccode\u003ekubectl logs pod-name\u003c/code\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eGet additional information about a pod\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003ekubectl describe pod pod-name\u003c/code\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eGet the terminal of the application(pod)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003ekubectl exec -it pod-name -- bin/bash\u003c/code\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eDelete deployment\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003ekubectl delete deployment deployment-name\u003c/code\u003e\u003c/p\u003e\n\u003ch3 id=\"kubernetes-deployment-configuration-file\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#kubernetes-deployment-configuration-file\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eKubernetes deployment configuration file\u003c/h3\u003e\n\u003cp\u003eIf a deployment does not exist, it will be created. If it exists, it will be updated.\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003ekubectl apply -f deployment.yaml\u003c/code\u003e\n\u003ccode\u003ekubectl apply -f config-file-nginx.yaml\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eIt is used for creating and configuring K8s clusters. There are 3 parts to it:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eMetadata\u003c/li\u003e\n\u003cli\u003eSpecification\n\u003cul\u003e\n\u003cli\u003eAttributes are specific to the \u003ccode\u003ekind\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eStatus (auto-generated and added by kubernetes)\n\u003cul\u003e\n\u003cli\u003eKubernetes will compare the desired with the actual state and if the desired state ≠ actual state, K8 will try to fix it.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"https://res.cloudinary.com/zubayr/image/upload/v1655117494/wiki/ipq3mbgswsrb0ufg7hrt.png\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://res.cloudinary.com/zubayr/image/upload/v1655117667/wiki/fakkxkxbdvspydlfnd4f.png\"\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eThe status is constantly updated, it gets it’s data from \u003ccode\u003eetcd\u003c/code\u003e.\u003c/li\u003e\n\u003cli\u003eThe format of the configuration file is \u003ca title=\"Private\" style=\"color: brown\" href=\"https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html\" target=\"_blank\"\u003edevlog.YAML (Private)\u003c/a\u003e.\u003c/li\u003e\n\u003cli\u003eThe code is stored along with the source code of your application or it can have it's own repository.\u003c/li\u003e\n\u003cli\u003eThe configuration file is structured in a \"template\" or a \"blueprint\" way.\u003c/li\u003e\n\u003cli\u003eThe connection is made using \"selectors\" and \"labels\".\u003c/li\u003e\n\u003cli\u003ePods get the label through the template blueprint.\u003c/li\u003e\n\u003cli\u003eThis label is matched by the selector.\u003c/li\u003e\n\u003cli\u003eTo get the configuration of a running deployment, use \u003ccode\u003ekubectl get deployment deployment-name -o yaml\u003c/code\u003e\n\u003cul\u003e\n\u003cli\u003eYou'll find a lot of information will be auto-generated by Kubernetes.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eTo copy a deployment you already have, you'll have to remove auto-generated stuff and clean the configuration file before creating a deployment from it.\u003c/li\u003e\n\u003cli\u003eYou can use the configuration file to delete a deployment. \u003ccode\u003ekubectl delete -f deployment.yaml\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"creating-a-secret\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#creating-a-secret\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eCreating a Secret\u003c/h3\u003e\n\u003cp\u003e\u003cimg src=\"https://res.cloudinary.com/zubayr/image/upload/v1655127535/wiki/ag8cc3fib3l5qtkvwasf.png\"\u003e\u003c/p\u003e\n\u003cp\u003eWhen you store values, don’t use plain text, encode them in base64. For example: \u003ccode\u003eecho -n \"somevalue\" | base64\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003ekubectl apply -f secrets.yaml\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eSecret once created can be referenced in your deployment configuration files.\u003c/p\u003e\n\u003cp\u003eExample of secret being referenced:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://res.cloudinary.com/zubayr/image/upload/v1655127895/wiki/lmddjxbristzwqipuuy3.png\"\u003e\u003c/p\u003e\n\u003ch3 id=\"creating-a-service\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#creating-a-service\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eCreating a Service\u003c/h3\u003e\n\u003cp\u003eDeployment and Service can be put in a single file. You don’t define a type unlike an External Service where type is defined because Internal Service or ClusterIP(it gives an internal IP Address) is the default.\u003c/p\u003e\n\u003cp\u003eExample of a Service configuration\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://res.cloudinary.com/zubayr/image/upload/v1655128136/wiki/vepvw9yubv8izozijvjo.png\"\u003e\u003c/p\u003e\n\u003cp\u003eReapply the \u003ccode\u003edeployment.yaml\u003c/code\u003e and the newly added Service will also be created.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://res.cloudinary.com/zubayr/image/upload/v1655128207/wiki/ljbcr1cfavkzz0lsbjd1.png\"\u003e\u003c/p\u003e\n\u003cp\u003eTo validate if the Service is attached to the correct Pod, you can run \u003ccode\u003ekubectl describe service service-name\u003c/code\u003e and cross check \u003ccode\u003eendpoints\u003c/code\u003e IP Address with the Pod’s \u003ccode\u003ekubectl get pod -o wide\u003c/code\u003e.\u003c/p\u003e\n\u003ch3 id=\"creating-configmap\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#creating-configmap\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eCreating ConfigMap\u003c/h3\u003e\n\u003cp\u003e\u003cimg src=\"https://res.cloudinary.com/zubayr/image/upload/v1655128682/wiki/mow4k1vejxaungybxje8.png\"\u003e\u003c/p\u003e\n\u003cp\u003eConfigMap must already be created in the K8s cluster before referencing it.\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003ekubectl apply -f configmap.yaml\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eReferencing ConfigMap\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://res.cloudinary.com/zubayr/image/upload/v1655128847/wiki/odygjn3izkrd8gotfhlq.png\"\u003e\u003c/p\u003e\n\u003ch3 id=\"creating-an-external-service\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#creating-an-external-service\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eCreating an External Service\u003c/h3\u003e\n\u003cp\u003eIt is very similar to a typical Service. Internal service also acts like a load balancer but an External Service acts like loan balancer by accepting external request by assigning the service an external \u003ca href=\"/notes/mj7tlpbhhzfpg8pbegkkasb\"\u003eIP Address\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://res.cloudinary.com/zubayr/image/upload/v1655129162/wiki/gpts0wcs1wrdij7txbfc.png\"\u003e\u003c/p\u003e\n\u003ch2 id=\"namespaces\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#namespaces\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eNamespaces\u003c/h2\u003e\n\u003cp\u003eNamespaces are a way to organize clusters into virtual sub-clusters — they can be helpful when different teams or projects share a Kubernetes cluster. Any number of namespaces are supported within a cluster, each logically separated from others but with the ability to communicate with each other. Namespaces cannot be nested within each other.\u003c/p\u003e\n\u003cp\u003eAny resource that exists within Kubernetes exists either in the default namespace or a namespace that is created by the cluster operator. Only nodes and persistent storage volumes exist outside of the namespace; these low-level resources are always visible to every namespace in the cluster.\u003c/p\u003e\n\u003cp\u003eWhen you create a cluster by default K8s gives you 4 namespaces out of the box.\u003c/p\u003e\n\u003cp\u003eTo list namepsaces - \u003ccode\u003ekubectl get namepsace\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eThe Kubernetes-dashboard namespace is shipped automatically in minikube(it is specific to minikube installation).\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003ccode\u003ekube-system\u003c/code\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eIt is not meant for your use, you shouldn't modify it. The components that are deployed on \u003ccode\u003ekube-system\u003c/code\u003e are system processes. They're from master and managing processes or kubectl.\u003c/p\u003e\n\u003col start=\"2\"\u003e\n\u003cli\u003e\u003ccode\u003ekube-public\u003c/code\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eIt has publicly accessible data. A configmap which contains cluster information(accessible even without authentication).\u003c/p\u003e\n\u003cp\u003eRun \u003ccode\u003ekubectl cluster-info\u003c/code\u003e to get this information.\u003c/p\u003e\n\u003col start=\"3\"\u003e\n\u003cli\u003e\u003ccode\u003ekube-node-lease\u003c/code\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eIt holds information about the heartbeats of nodes. Each node has associated lease object in namespace which contains information about that node's availability.\u003c/p\u003e\n\u003cp\u003e4 \u003ccode\u003edefault\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eThis is the namespace that is referenced by default for every Kubernetes command, and where every Kubernetes resource is located by default. Until new namespaces are created, the entire cluster resides in ‘default’.\u003c/p\u003e\n\u003ch3 id=\"create-your-own-namespace\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#create-your-own-namespace\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eCreate your own namespace\u003c/h3\u003e\n\u003cp\u003eRun \u003ccode\u003ekubectl create namespace \u0026#x3C;name-of-namespace\u003e\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eOR\u003c/p\u003e\n\u003cp\u003eUse namespace configuration file to create a namespace(recommended because you can integrate version control).\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://res.cloudinary.com/zubayr/image/upload/v1656236351/wiki/vahcacuyv9fjezvza8e4.png\"\u003e\u003c/p\u003e\n\u003ch3 id=\"when-yo-use-namespace\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#when-yo-use-namespace\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eWhen yo use namespace\u003c/h3\u003e\n\u003cp\u003eTo avoid your default namespace to get filled with different components that you might use. It can get difficult to manage as you’d have no overview of your resources.\u003c/p\u003e\n\u003cp\u003eResources can be ground using namespaces. A way of logically grouping your resources inside the cluster.\u003c/p\u003e\n\u003cp\u003eFor example:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eA namespace for your DBses and required resources.\u003c/li\u003e\n\u003cli\u003eA namespace for monitoring, where you can deploy \u003ca href=\"/notes/9fa6uf6xbnv00fv944o1y1o\"\u003ePrometheus\u003c/a\u003e and all the stuff it needs.\u003c/li\u003e\n\u003cli\u003eA namespace for \u003ca href=\"/notes/7520idin610dqsyol0gekds\"\u003eElastic Stack\u003c/a\u003e, where the \u003ca href=\"/notes/boyz5i8gtwc9aoj4zfz556y\"\u003eElasticsearch\u003c/a\u003e, \u003ca href=\"/notes/ekkap2yav8qo7izvxboph48\"\u003eKibana\u003c/a\u003e resources go.\u003c/li\u003e\n\u003cli\u003eA namespace for ngnix-ingress resources.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThey should be avoided if the project is not that large or doesn’t have that many users(as per official guide) but you can do it anyway instead of throwing everything in the default namespace.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eConflicts\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eNamespaces are also useful if you’ve multiple teams.\nTo avoid conflicts such as deploying of the same application in a single namespace and having it overwritten by the other teams. You can use namespaces for different projects inside your cluster.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eResource sharing\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eLets say you’ve one cluster and you want to host both staging and development environment in the same cluster(to utilize common resources without having to redeploy them for different environments).\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eBlue/Green deployment\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eYou can have two different versions of production application that share common resources.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eLimit Access and Resources\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eYou can limit access and resources to namespaces when working with multiple teams. Minimizing the risk of one team accidentally interfering with the other. Each team will have their own secure, isolated environment.\u003c/p\u003e\n\u003cp\u003eYou can limit the resources each namespace consumes. You can allot each team a share of resources for their applications.\u003c/p\u003e\n\u003ch3 id=\"characteristics-of-namespace\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#characteristics-of-namespace\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eCharacteristics of Namespace\u003c/h3\u003e\n\u003cp\u003eYou can’t access most resources from another namespace.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eEach NS must define it’s own configmap\u003c/strong\u003e. Eg: You’ll need to create a configmap for your namespace that is referencing a DB, you cannot use other namespace’s configmap. The same applies for secrets(credentials of a shared service).\u003c/p\u003e\n\u003cp\u003eWhat you can access from another NS is a \u003cstrong\u003eservice\u003c/strong\u003e.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://res.cloudinary.com/zubayr/image/upload/v1656237672/wiki/ijk9q4etvplakbc2gfc0.png\"\u003e\u003c/p\u003e\n\u003cp\u003eWhere yellow is namespace and white is the service being referred in a configmap.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eComponents that cannot be namespaced\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eThese components live globally in a cluster, you cannot isolate them in a NS.\nEg: Persistent Volumes, Nodes.\u003c/p\u003e\n\u003cp\u003eList resources that are not bound to namespace\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003ekubectl api-resources --namespaced=false\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eList resources that are bound to namespace\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003ekubectl api-resources --namespaced=true\u003c/code\u003e\u003c/p\u003e\n\u003ch3 id=\"create-resource-in-a-namespace\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#create-resource-in-a-namespace\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eCreate resource in a namespace\u003c/h3\u003e\n\u003cp\u003eRun \u003ccode\u003ekubectl apply -f mysql-configmap.yaml --namespace=my-namespace\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eOR include the destination namespace in the configmap itself\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://res.cloudinary.com/zubayr/image/upload/v1656238019/wiki/jwpagppds4pc1qjvsa2p.png\"\u003e\u003c/p\u003e\n\u003ch3 id=\"get-component-created-in-a-specific-ns\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#get-component-created-in-a-specific-ns\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eGet component created in a specific NS\u003c/h3\u003e\n\u003cp\u003e\u003ccode\u003ekubectl get configmap -n my-namespace\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eBecause by default \u003cstrong\u003eit’ll only the default namespace\u003c/strong\u003e if you don’t specify.\u003c/p\u003e\n\u003ch3 id=\"change-active-ns\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#change-active-ns\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eChange active NS\u003c/h3\u003e\n\u003cp\u003eSwitch the default NS to your choice of NS\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003ekubectl\u003c/code\u003e doesn’t have an solution for this but \u003ccode\u003ekubens\u003c/code\u003e does!\u003c/p\u003e\n\u003cp\u003eInstall \u003ccode\u003ekubectx\u003c/code\u003e which will install \u003ccode\u003ekubens\u003c/code\u003e as well.\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003ekubens\u003c/code\u003e ran without options will return all the NSes and highlights active NS.\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003ekubens my-namespace\u003c/code\u003e will switch the active NS to \u003ccode\u003emy-namespace\u003c/code\u003e\u003c/p\u003e\n\u003ch2 id=\"etcd\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#etcd\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eetcd\u003c/h2\u003e\n\u003ch2 id=\"taints\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#taints\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eTaints\u003c/h2\u003e\n\u003ch2 id=\"sidecar-containers\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#sidecar-containers\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eSidecar containers\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://www.magalix.com/blog/the-sidecar-pattern\"\u003ehttps://www.magalix.com/blog/the-sidecar-pattern\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"resources\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#resources\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eResources\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://kubebyexample.com/\"\u003eKube by Example Homepage\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://kubernetes.io/docs/concepts/_print/\"\u003eConcepts | Kubernetes\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://collabnix.github.io/kubelabs/\"\u003eAn Ultimate Kubernetes Hands-on Labs and Tutorials | kubelabs\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003cstrong\u003eBacklinks\u003c/strong\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"/notes/522ww47pqvt6y0yj8zparmy\"\u003eDevOps\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/ervusa6qabwyx7sbb1a4vcg\"\u003eAWS EKS\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/5pcm1ulr27lrics6yz2mtp2\"\u003eContainer Orchestration\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/llkdoaituan5psfnwiw8tf5\"\u003eEKS cluster information\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/gvpkbgglehtr9ej5e0uj44j\"\u003eAWS\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/5eybx5vd339tjnkglx8igde\"\u003eDevops Interview Questions\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/5uu4351w46y16xtyufz0fy4\"\u003eHelm\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/fhi59s6yqplah2w1hfx9i5x\"\u003ekOps\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/gbeh61d6hvbmxxy63chp81b\"\u003eKubernetes\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/9fa6uf6xbnv00fv944o1y1o\"\u003ePrometheus\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/mkwoo3ek4y6bnddpy1iteb9\"\u003eTerraform\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e","noteIndex":{"id":"3nfl4nvv516muyzozhcwrw8","title":"/root","desc":"","updated":1655559901157,"created":1637610830605,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":".","selfContained":true,"name":"Dendron"},"contentHash":"581715455a6f0f7a699209e8521b4acf","links":[{"type":"wiki","from":{"fname":"root","id":"3nfl4nvv516muyzozhcwrw8","vaultName":"Dendron"},"value":"archive.about","alias":"my","position":{"start":{"line":4,"column":9,"offset":37},"end":{"line":4,"column":29,"offset":57},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"archive.about"}},{"type":"wiki","from":{"fname":"root","id":"3nfl4nvv516muyzozhcwrw8","vaultName":"Dendron"},"value":"tags.areas","alias":"#areas","position":{"start":{"line":20,"column":111,"offset":1051},"end":{"line":20,"column":117,"offset":1057},"indent":[]},"xvault":false,"to":{"fname":"tags.areas"}},{"type":"wiki","from":{"fname":"root","id":"3nfl4nvv516muyzozhcwrw8","vaultName":"Dendron"},"value":"tags.areas","alias":"#areas","position":{"start":{"line":21,"column":3,"offset":1198},"end":{"line":21,"column":9,"offset":1204},"indent":[]},"xvault":false,"to":{"fname":"tags.areas"}},{"type":"wiki","from":{"fname":"root","id":"3nfl4nvv516muyzozhcwrw8","vaultName":"Dendron"},"value":"swipes","alias":"swipes","position":{"start":{"line":27,"column":3,"offset":1724},"end":{"line":27,"column":13,"offset":1734},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"swipes"}},{"type":"wiki","from":{"fname":"root","id":"3nfl4nvv516muyzozhcwrw8","vaultName":"Dendron"},"value":"swipes.quotes","alias":"quotes","position":{"start":{"line":27,"column":48,"offset":1769},"end":{"line":27,"column":72,"offset":1793},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"swipes.quotes"}},{"type":"wiki","from":{"fname":"root","id":"3nfl4nvv516muyzozhcwrw8","vaultName":"Dendron"},"value":"swipes.excerpts","alias":"excerpts","position":{"start":{"line":27,"column":74,"offset":1795},"end":{"line":27,"column":102,"offset":1823},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"swipes.excerpts"}},{"type":"wiki","from":{"fname":"root","id":"3nfl4nvv516muyzozhcwrw8","vaultName":"Dendron"},"value":"swipes.sayings","alias":"sayings","position":{"start":{"line":27,"column":104,"offset":1825},"end":{"line":27,"column":130,"offset":1851},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"swipes.sayings"}},{"type":"wiki","from":{"fname":"root","id":"3nfl4nvv516muyzozhcwrw8","vaultName":"Dendron"},"value":"swipes.phrases","alias":"phrases","position":{"start":{"line":27,"column":132,"offset":1853},"end":{"line":27,"column":158,"offset":1879},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"swipes.phrases"}},{"type":"wiki","from":{"fname":"root","id":"3nfl4nvv516muyzozhcwrw8","vaultName":"Dendron"},"value":"resources.people","alias":"others","position":{"start":{"line":27,"column":214,"offset":1935},"end":{"line":27,"column":241,"offset":1962},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"resources.people"}},{"type":"wiki","from":{"fname":"root","id":"3nfl4nvv516muyzozhcwrw8","vaultName":"Dendron"},"value":"inbox.webmark","alias":"webmark","position":{"start":{"line":31,"column":235,"offset":2463},"end":{"line":31,"column":260,"offset":2488},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"inbox.webmark"}},{"type":"wiki","from":{"fname":"root","id":"3nfl4nvv516muyzozhcwrw8","vaultName":"Dendron"},"value":"slipbox.Ontology","alias":"slipbox.Ontology","position":{"start":{"line":55,"column":3,"offset":3735},"end":{"line":55,"column":23,"offset":3755},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"slipbox.Ontology"}},{"type":"wiki","from":{"fname":"root","id":"3nfl4nvv516muyzozhcwrw8","vaultName":"Dendron"},"value":"archive.about","alias":"About me","position":{"start":{"line":60,"column":3,"offset":3963},"end":{"line":60,"column":29,"offset":3989},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"archive.about"}}],"anchors":{"welcome-to-noetic-noggin":{"type":"header","text":"Welcome to Noetic Noggin","value":"welcome-to-noetic-noggin","line":8,"column":0,"depth":1},"principles":{"type":"header","text":"Principles","value":"principles","line":18,"column":0,"depth":2},"all-notes-should-be-relative-to-me":{"type":"header","text":"All notes should be relative to me.","value":"all-notes-should-be-relative-to-me","line":20,"column":0,"depth":3},"gotta-capture-em-all":{"type":"header","text":"Gotta capture 'em all","value":"gotta-capture-em-all","line":30,"column":0,"depth":3},"dont-force-evolution":{"type":"header","text":"Don't force evolution","value":"dont-force-evolution","line":40,"column":0,"depth":3},"noise--signal":{"type":"header","text":"Noise \u0026 Signal","value":"noise--signal","line":45,"column":0,"depth":3},"why-do-any-of-this":{"type":"header","text":"Why do any of this?","value":"why-do-any-of-this","line":50,"column":0,"depth":3},"structure-of-this-wiki":{"type":"header","text":"Structure of this wiki","value":"structure-of-this-wiki","line":59,"column":0,"depth":2},"quicklinks":{"type":"header","text":"Quicklinks","value":"quicklinks","line":64,"column":0,"depth":2}},"children":["0yay2om15bsg2li2p6qgux7","05c4nnjqa92zx11ld6o0ytn","9gtn7g40cvqui0sifl1s7t5","ftbd1hknsd3ocd7jao26tn3","a1kmkdbpclaz5p6sykaw6kc","z121gkmqfo09m8r7jgnpfgn","gkqrr7xbt18xhi93dmjrwzj","ja2x4lrgejr9o9wvit0bd0d","luv39odkfibx3wdosvigwvy","vtvk3bi6o72w58oima9xzf3","yy652kvqrkfn9ipk07m40h4"],"parent":null,"data":{},"body":"\n# Welcome to Noetic Noggin\n\nThis is [[my|archive.about]] personal wiki and a commonplace book; notes by me, for me.\n\n🚧 Permanently under construction 🚧\n\n![](https://res.cloudinary.com/zubayr/image/upload/v1658499909/wiki/ajevkuyebljlxiblyst2.png)\n\nThis wiki was made possible with [dendron.so](https://dendron.so) and [obisidian.md](https://obsidian.md). Stored on [Github Repository](https://github.com/zubayrrr/dendron) and hosted on [Netlify](https://netlify.com) for free.\n\n## Principles\n\n### All notes should be relative to me.\n\n- All notes in principle are written for me; what I know about a subject, how I feel about a particular thing.\n- Opinions are fine as long as I feel strong epistemic confidence in the given opinion.\n- Don't over explain a note if it's not necessary, remember, these notes are for you and are relative to whatever knowledge you posses about the subject.\n- Read books and make an dedicated notes for them.\n- Listen podcasts but capture them inside a \"subject specific\" note or \"Map of Concept\" note or a note tagged #areas. Because making notes from podcasts can be tedious as they're not as well structured as books for consumption.(Whose merit is debatable.)\n- #areas are basically \"Map of Concept\" notes but I have recently come to the realization that its better to maintain them [Nikita Voloboev style](https://wiki.nikiv.dev/) but with heavy usage of transclusion and backlinking.\n  - \"Resources\" should be first processed and then mentioned inside the note, otherwise they should be left in inbox.\n\n### Gotta capture 'em all\n\n- Hog whatever information tickles your pickle([anything that gratifies one's intellectual curiosity](https://news.ycombinator.com/newsguidelines.html)).\n- [[swipes]] are interesting/useful bits of... [[quotes|swipes.quotes]], [[excerpts|swipes.excerpts]], [[sayings|swipes.sayings]], [[phrases|swipes.phrases]]. Essentially, ideas, opinions that are swiped off from [[others|resources.people]].\n- Make no distinction between \"your\" ideas and ideas of \"others\", because if you vibe with an idea; it's already yours.\n- But also remember \"If you've time to consume, you've time to produce.\".\n- Use [raindrop.io](https://raindrop.io) to manage your URL bookmarks.\n- If you need to bookmark a webpage or an article all together, use [MarkDownload](https://chrome.google.com/webstore/detail/markdownload-markdown-web/pcmpcfapbekmbjjkdalcgopdkipoggdi?hl=en-GB) to rip the entire page. Let's call it a [[webmark|inbox.webmark]]; it belong in the `/inbox`.\n- Similar process is employed for capturing tweets using [tweet-to-markdown](https://github.com/kbravh/tweet-to-markdown) and it also belongs in the `/inbox`.\n\n### Don't force evolution\n\n- Let your second brain evolve at it's own pace.\n- The structure should never be _too_ rigid because its meant to take form by itself.\n\n### Noise \u0026 Signal\n\n- While capturing ideas left and right is recommended, make sure you're not harming your periods of focus.\n- Have impenetrable focus periods (use Pomodoro method) where you only care about the work on hand and nothing else.\n\n### Why do any of this?\n\n- Because I can't remember everything - there's a lot of information around that interests me and there isn't enough working memory installed in me.\n- So, I make notes - to remember, to create, to meditate, to think.\n- A bodybuilder's portfolio is their body - my portfolio is my wiki.\n- Not only am I making - whatever I know - tangible by writing it down. I know exactly where to look if I ever forget something.\n- I am at the beginning of my learning adventures. When I look back at it, I will know where I came from and how my thoughts evolved over time.\n- Plus, its really fun to nerd out.\n\n## Structure of this wiki\n\n- [[slipbox.Ontology]] explains the structure of this wiki and the tags, backlinks used in it.\n- Dendron takes care of the structure and hierarchy(mostly), but I insist on using tags for backwards compatibility.\n\n## Quicklinks\n\n- [[About me|archive.about]]\n- [Github](https://github.com/zubayrrr)\n- [Twitter](https://twitter.com/zoobhalu)\n- [Blog](https://zubayrali.in)\n- [Guestbook](https://www.yourworldoftext.com/~zubayrali/)\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true,"enableSelfContainedVaults":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":true,"vaultSelectionModeOnCreate":"smart","leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2}},"randomNote":{},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{},"templateHierarchy":"template","insertNote":{"initialValue":"templates"}},"workspace":{"vaults":[{"fsPath":".","selfContained":true,"name":"Dendron"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"task","dateFormat":"y.MM.dd","addBehavior":"asOwnDomain","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"taskCompleteStatus":["done","x"],"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link"},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableHandlebarTemplates":true,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":true,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800,"enableFullHierarchyNoteTitle":false,"enableSmartRefs":true},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false},"publishing":{"theme":"dark","enableFMTitle":true,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"Noetic Noggin","description":"Personal Wiki / Digital Garden","author":"Zubayr Ali","twitter":"zoobhalu"},"github":{"enableEditLink":false,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"siteUrl":"localhost:3000","siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"gbeh61d6hvbmxxy63chp81b"},"buildId":"4oDSInv8WeDX6cVSprjyl","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>