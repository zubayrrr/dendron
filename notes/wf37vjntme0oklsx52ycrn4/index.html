<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="icon" href="/favicon.ico"/><title>Docker</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Personal Wiki / Digital Garden"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="zoobhalu"/><meta name="twitter:creator" content="zoobhalu"/><meta property="og:title" content="Docker"/><meta property="og:description" content="Personal Wiki / Digital Garden"/><meta property="og:url" content="localhost:3000/notes/wf37vjntme0oklsx52ycrn4/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="5/26/2022"/><meta property="article:modified_time" content="7/16/2022"/><link rel="canonical" href="localhost:3000/notes/wf37vjntme0oklsx52ycrn4/"/><meta name="next-head-count" content="17"/><link rel="preload" href="/_next/static/css/cc2307f6fd3a2fec.css" as="style"/><link rel="stylesheet" href="/_next/static/css/cc2307f6fd3a2fec.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-709abf7ab5f510de.js" defer=""></script><script src="/_next/static/chunks/framework-bb5c596eafb42b22.js" defer=""></script><script src="/_next/static/chunks/main-c4b0e551a2150d17.js" defer=""></script><script src="/_next/static/chunks/pages/_app-62c5b93605efada7.js" defer=""></script><script src="/_next/static/chunks/78-13ae6acd5ce7ca5b.js" defer=""></script><script src="/_next/static/chunks/373-2f3879190a46a3d9.js" defer=""></script><script src="/_next/static/chunks/pages/notes/%5Bid%5D-69449972c2a725d8.js" defer=""></script><script src="/_next/static/4oDSInv8WeDX6cVSprjyl/_buildManifest.js" defer=""></script><script src="/_next/static/4oDSInv8WeDX6cVSprjyl/_ssgManifest.js" defer=""></script><script src="/_next/static/4oDSInv8WeDX6cVSprjyl/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div style="display:flex" class="ant-col ant-col-xs-20 ant-col-sm-4"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"><div class="ant-select ant-select-lg ant-select-auto-complete ant-select-single ant-select-allow-clear ant-select-show-search" style="width:100%"><div class="ant-select-selector"><span class="ant-select-selection-search"><input type="search" autoComplete="off" class="ant-select-selection-search-input" role="combobox" aria-haspopup="listbox" aria-owns="undefined_list" aria-autocomplete="list" aria-controls="undefined_list" aria-activedescendant="undefined_list_0" value=""/></span><span class="ant-select-selection-placeholder">For full text search please use the &#x27;?&#x27; prefix. e.g. ? Onboarding</span></div></div></div><div style="display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout site-layout" style="margin-top:64px"><section class="ant-layout site-layout"><div class="site-layout-sidebar" style="flex:0 0 auto;width:calc(max((100% - 992px) / 2, 0px) + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);background-color:transparent;flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></div><section class="ant-layout side-layout-main" style="max-width:1200px;display:initial"><main class="ant-layout-content main-content" role="main" style="padding:0 24px"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-18"><div><h1 id="docker"><a aria-hidden="true" class="anchor-heading" href="#docker"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Docker</h1>
<ul>
<li>Areas: <a href="/notes/522ww47pqvt6y0yj8zparmy">DevOps</a></li>
<li>Related: <a href="/notes/kgtifubcsyxu0xja4llap2q">Cgroups</a></li>
</ul>
<hr>
<ul>
<li>Docker is a platform for developers and sysadmins used to develop, deploy and run
containerized applications.</li>
<li>A container is a running process that encapsulates everything an application needs to
run (and only those things).</li>
<li>Docker makes it really easy to install and run software without worrying about setup or
dependencies.</li>
<li>An image is a standalone, isolated, lightweight and executable package that contains
all the required components (code, runtime, system tools, libraries, settings, etc)
necessary to run an application. An image is the actual, moveable artifact.</li>
<li>The container is the runtime instance of the image. From the same image, you can launch more containers.
Images for many applications can be found on <a href="https://hub.docker.com">https://hub.docker.com</a></li>
<li>An image "becomes" a container when we actually start an image. It creates a container environment.</li>
</ul>
<h2 id="docker-architecture--components"><a aria-hidden="true" class="anchor-heading" href="#docker-architecture--components"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Docker Architecture &#x26; Components</h2>
<p><img src="https://res.cloudinary.com/zubayr/image/upload/v1657820835/wiki/gzkdopsbfapaqzzq2r5n.png"></p>
<p><img src="https://res.cloudinary.com/zubayr/image/upload/v1657820890/wiki/yzkdx8fuqd6gyrmd9lug.png"></p>
<h2 id="install-docker"><a aria-hidden="true" class="anchor-heading" href="#install-docker"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Install Docker</h2>
<p><a href="https://docs.docker.com/engine/install/">Docker Docs</a></p>
<h2 id="docker-image-vs-container"><a aria-hidden="true" class="anchor-heading" href="#docker-image-vs-container"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Docker Image vs Container</h2>
<p>Images can exist without containers, whereas a container needs to run an image to exist. Therefore, containers are dependent on images and use them to construct a run-time environment and run an application.</p>
<p>The two concepts exist as essential components (or rather phases) in the process of running a Docker container. Having a running container is the final “phase” of that process, indicating it is dependent on previous steps and components. That is why docker images essentially govern and shape containers.</p>
<p>Container is the running environment for(of) an image. Container has application image, a port binded to it(makes it possible for it to talk to the application running inside it), Containers has virtual FS.</p>
<p>See also: <a href="/notes/4f08m6qrqyvpf6hfk1898vt">Containers &#x26; Images</a></p>
<h2 id="docker-cli"><a aria-hidden="true" class="anchor-heading" href="#docker-cli"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Docker cli</h2>
<ul>
<li>
<p>Run <code>docker info</code>, <code>docker --version</code> or <code>docker version</code> to check it's version and if the client is able to communicate with the server.</p>
</li>
<li>
<p>The new way of running docker commands is:</p>
<ul>
<li>First comes the <code>docker</code> command followed by a <code>management command</code> and then a <code>sub command</code> with options</li>
<li>Run <code>docker help</code> to find all commands, sub commands</li>
</ul>
</li>
<li>
<p>To test docker run the <code>hello-world</code> container</p>
<ul>
<li><code>docker container run hello-world</code></li>
</ul>
</li>
<li>
<p>To search for an image on docker hub</p>
<ul>
<li><code>docker search mongo</code></li>
</ul>
</li>
<li>
<p>To pull an image</p>
<ul>
<li><code>docker image pull redis</code> is same as <code>docker image pull redis:latest</code></li>
<li><code>docker image pull redis:5.0.10</code> <code>:tag</code>(optional)</li>
</ul>
</li>
<li>
<p>To list all images</p>
<ul>
<li><code>docker images</code> or <code>docker image ls</code></li>
</ul>
</li>
<li>
<p>To run an container from(of) an image</p>
<ul>
<li><code>docker container run redis</code></li>
</ul>
</li>
<li>
<p>To pull an image and run container</p>
<ul>
<li><code>docker container run -P httpd</code> (<code>-P</code> to publish all exposed ports to random ports)</li>
</ul>
</li>
<li>
<p>The above command executed in two steps</p>
<ul>
<li><code>docker container create -p 80:80 httpd</code></li>
<li><code>docker container start CONTAINER_ID</code></li>
</ul>
</li>
<li>
<p>To get a shell inside docker</p>
<ul>
<li><code>docker container run -it centos</code>(if you run it without passing any commands it'll simply exit, <code>-it</code> is required for shell access of the container)</li>
</ul>
</li>
<li>
<p>Get terminal of the container</p>
<ul>
<li><code>docker exec -it CONTAINER_ID /bin/bash</code></li>
<li><code>docker exec -it CONTAINER_ID /bin/sh</code></li>
</ul>
</li>
<li>
<p>To give your container a custom name(default is random)</p>
<ul>
<li><code>docker run -d -p 6001:6379 --name redis-olderv redis:4.0</code></li>
</ul>
</li>
<li>
<p>To list all running docker containers</p>
<ul>
<li><code>docker ps</code> or <code>docker container ls</code></li>
<li><code>ps</code> stands for process status</li>
</ul>
</li>
<li>
<p>To list all docker containers</p>
<ul>
<li><code>docker ps -a</code> or <code>docker container ls -a</code></li>
</ul>
</li>
<li>
<p>To filter by status run</p>
<ul>
<li><code>docker container ls -a -f status=exited</code></li>
</ul>
</li>
<li>
<p>To list only container IDs</p>
<ul>
<li><code>docker container ls -a -f status=exited -q</code> -q comes from quiet</li>
</ul>
</li>
<li>
<p>To remove image and the container</p>
<ul>
<li>First stop and then remove the container</li>
<li><code>docker container stop CONTAINER_ID</code></li>
<li>You don't have to write the entire container ID, the first few digits as long as they're unique</li>
<li><code>docker container rm CONTAINER_ID</code> to remove the container</li>
</ul>
</li>
<li>
<p>To remove a running container <code>docker container rm -f CONTAINER_ID</code></p>
</li>
<li>
<p>To remove using filter use command substitution</p>
<ul>
<li><code>docker container rm $(docker container ls -a -f status=exited -q)</code></li>
</ul>
</li>
<li>
<p>To remove an image</p>
<ul>
<li><code>docker rmi</code> or <code>docker image rm IMAGE_NAME</code> (<code>-f</code> to forcefully remove a still running container's image)</li>
<li>If you try to remove an image that is stopped or running, it'll throw an error, you'll need to remove the container before removing it's image.</li>
</ul>
</li>
<li>
<p>To view logs of a container(useful for debugging):</p>
<ul>
<li><code>docker container logs CONTAINER_ID</code></li>
<li><code>docker container logs -f CONTAINER_NAME</code> (<code>-f</code> to view them in realtime)</li>
</ul>
</li>
<li>
<p>To view all the process running inside a container:</p>
<ul>
<li><code>docker container top CONTAINER_NAME</code></li>
<li><code>docker container top CONTAINER_ID</code></li>
<li>You can look for the same processes running on the host machine(even the process IDs are same)</li>
</ul>
</li>
<li>
<p>To display realtime info about running containers:</p>
<ul>
<li><code>docker container stats</code></li>
<li><code>docker container stats CONTAINER_NAME</code> (for info about specific container)</li>
</ul>
</li>
<li>
<p>To view more info about containers</p>
<ul>
<li><code>docker container inspect CONTAINER_NAME/ID</code></li>
<li>Filter using <a href="/notes/d3d1v1gzr71bjd8nc7jaibf">grep</a></li>
<li><code>docker container inspect CONTAINER_NAME/ID | grep -i ipaddress</code></li>
</ul>
</li>
<li>
<p>To commit changes to a container's image:</p>
<ul>
<li><code>docker commit -m "commit message" -a "author name" CONTAINER_ID repo_name/image_name:latest</code></li>
<li>You can now use the newly created image with your committed changes.</li>
</ul>
</li>
<li>
<p>To add a custom tag to an existing image(<strong>doesn't</strong> create a new image, will point towards the image with the same ID):</p>
<ul>
<li><code>docker image tag image_name repo_name/image_name:new_tag</code></li>
<li><code>docker image tag repo_name/image_name:old_tag repo_name/image_name:new_tag</code></li>
</ul>
</li>
<li>
<p>To push the image to docker hub:</p>
<ul>
<li>The repo name used must match the username on docker hub</li>
<li><code>docker login</code></li>
<li><code>docker image push repo_name/image_name:tag</code></li>
</ul>
</li>
<li>
<p>To rename an image (makes a copy, points to the same image ID)</p>
<ul>
<li><code>docker tag my-app:1.0 new-my-app:1.1.0</code></li>
</ul>
</li>
</ul>
<h2 id="docker-hub"><a aria-hidden="true" class="anchor-heading" href="#docker-hub"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Docker Hub</h2>
<p>Image name follows the convention of <code>repository/image_name:tag</code> but official images don't follow this structure as they're at the root level.</p>
<p>Image ID is used to identify docker images, a single image can have multiple tags pointing to the same image.
Docker Image ID is a digest which contains the <a title="Private" style="color: brown" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank">devlog.sha256 (Private)</a> hash of the image.</p>
<h2 id="dangling-images"><a aria-hidden="true" class="anchor-heading" href="#dangling-images"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Dangling Images</h2>
<ul>
<li>Docker images consist of multiple layers. Dangling images are layers that have no relationship to any tagged images.</li>
<li>To delete dangling images, stopped containers and networks not used by at least one container run:
<ul>
<li><code>docker system prune</code></li>
</ul>
</li>
<li><code>docker system prune -a</code> to remove unused images as well</li>
<li>An image consists of multiple layers. They're read-only and each has an ID.</li>
<li>A layer is saved only once and can be used by more than one image. (This saves disk space and time when pulling images.)</li>
<li>They layers are stacked on top of each other.</li>
<li>When you run a container from an image, a new writeable layer is added on top of the image layers.</li>
<li>This writeable layer is often called "Container Layer" and allows you to make changes to the container since the lower layers on the image are read-only.</li>
<li>When we remove a container, we're in fact only removing the writeable layer.</li>
<li>To write data to the writeable layer of the container, docker uses "Storage Drivers"</li>
<li><code>overlay2</code> is the default and recommended driver.</li>
<li>To view the layers of an image:
<ul>
<li><code>docker image inspect image_name</code></li>
<li>On disk, the layers are located at <code>/var/lib/docker/overlay2</code></li>
</ul>
</li>
<li>There are two different values under "SIZE" when <code>docker container ls</code> is run
<ul>
<li>The first value represents the amount of data used for the writeable layer of each container.</li>
<li>The "Virtual" size represents the amount of data for the read-only image layers plus the container's writeable layer's size</li>
</ul>
</li>
<li>Multiple containers may share some or all read-only image data, and two containers started from same image share 100% of the read-only data.</li>
</ul>
<h2 id="image-id"><a aria-hidden="true" class="anchor-heading" href="#image-id"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Image ID</h2>
<p>A Docker image's ID is a digest, which contains an SHA256 hash of the image's JSON configuration object.</p>
<h2 id="container"><a aria-hidden="true" class="anchor-heading" href="#container"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Container</h2>
<ul>
<li>A container when it starts executes a default command, as long as the container's default command is running it'll stay up. Once the command finishes execution, the container will also exit.</li>
<li>To get access to a shell of a container use <code>-it</code> flags, <code>i</code> for interactive and <code>t</code> for <a href="/notes/jdwzfnsup2nr4il6m611vvl">tty</a>.</li>
<li>To escape from a running container without stopping the container use <code>CTRL + P + Q</code></li>
<li>To execute commands on a running container:
<ul>
<li><code>docker container exec -it CONTAINER_ID bash</code> or</li>
<li><code>docker container exec CONTAINER_ID cat /etc/shadow</code></li>
</ul>
</li>
</ul>
<h2 id="persistent-data--docker-volumes"><a aria-hidden="true" class="anchor-heading" href="#persistent-data--docker-volumes"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Persistent Data / Docker Volumes</h2>
<p>Containers have Virtual FS inside them.</p>
<p>By default, all files created inside a container are stored on the writeable container layer. The data doesn't persist when the container no longer exists(stops, removed, restarted) and it can be difficult to get the data out of the container if another process needs it.</p>
<p>Docker provides two options for the container to store data in the host machine, to make data persist.</p>
<ol>
<li>Volumes</li>
<li>Bind Mounts</li>
</ol>
<p>Volumes are preferred over Bind Mounts. While <strong>Bind Mounts</strong> are dependent on the directory structure and the OS of the host machine. Volumes are completely managed by Docker. <strong>A Volume is a persistent directory of a container. Its a mapping between a directory on the docker host and a directory on a container.</strong> To create a volume you mount a physical folder from the host into the virtual file system of Docker. Data is written on the host dir.</p>
<p>There are different ways of creating Docker Volumes:</p>
<ul>
<li>We can create volume by defining it in the Dockerfile using the <code>VOLUME</code> instruction.</li>
<li>By using <code>-v</code> flag when starting(<code>docker run</code>) a container and mapping a host dir to a to a dir in the container. These are called <strong>Host Volumes</strong></li>
<li>You don't specify which host dir should be mounted, its created by Docker itself inside <code>/var/lib/docker/volumes</code>. These are called <strong>Anonymous Volumes</strong>. For each container a folder is generated that gets mounted. Anonymous Volumes will have a hash as a name.</li>
<li>You can specify a name for an autogenerated volume by <code>docker run -v name:/var/lib/mysql/data</code>. There are called <strong>Named Volumes</strong>.</li>
<li>You can also create them when using <code>docker-compose</code> using the <code>volumes</code> definition under a declared container. You can also define a list of volumes you want that <code>docker-compose</code> file to create so you can reference the same volume on different containers.</li>
</ul>
<p><img src="https://res.cloudinary.com/zubayr/image/upload/v1657894394/wiki/cwwndvvg1gypnj1wx3p7.png"></p>
<p>When you mount a volume, they can be named or anonymous. Anonymous volumes are not given an explicit name when they're first mounted into a container; docker gives them a random name that is guaranteed to be unique within a given docker host.</p>
<ul>
<li><code>docker volume create volumeName</code></li>
<li><code>docker volume ls</code> - to list all volumes</li>
<li><code>docker volume inspect volumeName</code> - info about a volume, like where the data on the volume is physically located on the drive.</li>
<li><code>docker volume rm volumeName</code></li>
<li><code>docker volume prune</code> (will remove all unused volumes)</li>
</ul>
<p>The directory on the host that is being used as the mount point can be found at <code>/var/lib/docker/volumes/</code></p>
<ul>
<li>Starting a container with a volume.</li>
</ul>
<p><code>docker container run -d --name mywebapp -p 80:80 -v mysite:/usr/share/ngnix/html nginx</code></p>
<p>Your website's html is copied TO the container's <code>/usr/share/ngnix/html</code> (in the above example) for it to be served.</p>
<h2 id="docker-layers"><a aria-hidden="true" class="anchor-heading" href="#docker-layers"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Docker Layers</h2>
<ul>
<li>Docker format gives assets unique identifiers called Docker Layers</li>
<li>Docker Layers == Assets</li>
<li>Assets can be <strong>reused</strong> for different components
<ul>
<li>E.g. if two Docker Images use same layers, you’d have 2 components that share the layer as an asset.</li>
</ul>
</li>
<li>A Docker Layer can be specific OS, referenced by multiple Docker Images.</li>
</ul>
<h2 id="container-port-vs-host-port"><a aria-hidden="true" class="anchor-heading" href="#container-port-vs-host-port"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Container Port VS Host Port</h2>
<p>Multiple containers(even same images) can run on your host machine. Host machine has certain ports that can be opened.</p>
<p>A binding needs to be created between your host machine and the container.</p>
<p><img src="https://res.cloudinary.com/zubayr/image/upload/v1657823871/wiki/geibagpoa2uvx95wwaxg.png"></p>
<p>You can specify the binding of the port along with the run command.</p>
<p><code>docker run -p HostPort:ContainerPort image</code></p>
<p><code>docker run -p 6000:6379 redis</code></p>
<h2 id="docker-network"><a aria-hidden="true" class="anchor-heading" href="#docker-network"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Docker Network</h2>
<p>Docker creates it’s own isolated Docker Network where the containers are running. When you deploy two containers in the same Docker Network, they can talk to each other using the Container name.</p>
<p>Applications outside of the Docker Network connect using localhost and port number.</p>
<p>In production, this application running/developed outside of the Network is also added to the Network.</p>
<p><code>docker network ls</code> list networks (some are autogenerated)</p>
<p><code>docker network create mongo-network</code> to create a new network</p>
<p>Make a container run inside a Network</p>
<p><code>docker run -p 27017:27017 -d mongo</code></p>
<h2 id="docker-compose"><a aria-hidden="true" class="anchor-heading" href="#docker-compose"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Docker Compose</h2>
<p>Docker Compose file is basically a bunch of docker commands structured nicely so you don’t have to run each of those docker run commands one by one.</p>
<p><code>docker-compose</code> is a <code>yaml</code> file.</p>
<p>Docker compose creates a common network for all the containers mentioned inside it.</p>
<pre class="language-yaml"><code class="language-yaml">version<span class="token punctuation">:</span><span class="token string">'3'</span> <span class="token comment"># version of docker-compose</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span> <span class="token comment"># here goes the containers</span>
	<span class="token key atrule">mongodb</span><span class="token punctuation">:</span> <span class="token comment"># name of a container</span>
		<span class="token key atrule">image</span><span class="token punctuation">:</span> mongo <span class="token comment"># name of the image</span>
		<span class="token key atrule">ports</span><span class="token punctuation">:</span>
			<span class="token punctuation">-</span> 27017<span class="token punctuation">:</span><span class="token number">27017</span> <span class="token comment"># HOST:CONTAINER</span>
		<span class="token key atrule">environment</span><span class="token punctuation">:</span> <span class="token comment"># env variables</span>
			<span class="token punctuation">-</span> MONGO_USERNAME=admin
			<span class="token punctuation">-</span> <span class="token punctuation">...</span>
	<span class="token key atrule">mongo-express</span><span class="token punctuation">:</span>
		<span class="token key atrule">image</span><span class="token punctuation">:</span> mongo<span class="token punctuation">-</span>express
		<span class="token key atrule">ports</span><span class="token punctuation">:</span>
			<span class="token punctuation">-</span> 8080<span class="token punctuation">:</span><span class="token number">8080</span>
		<span class="token key atrule">environment</span><span class="token punctuation">:</span>
			<span class="token punctuation">-</span> ME_CONFIG<span class="token punctuation">:</span>value
</code></pre>
<p>Start Docker container using docker-compose file.</p>
<p><code>docker-compose -f mongo.yaml up</code></p>
<h2 id="dockerfile"><a aria-hidden="true" class="anchor-heading" href="#dockerfile"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Dockerfile</h2>
<ul>
<li>It is a text file that contains all the instructions needed to create an image. A recipe for creating docker images.</li>
<li>The syntax it uses is from Docker platform and uses statements to generate docker images.</li>
<li>It also runs bash commands (single line which uses <code>&#x26;&#x26;</code> to append commands and <code>\</code> backslash for a newline.)</li>
<li>To use a Dockerfile for a custom image, copy paste the instructions from an existing Dockerfile locally and remove the <code>COPY</code> instructions to adapt it for your custom image with your own instructions.</li>
<li>To build an image from the custom Dockerfile:
<ul>
<li><code>docker image build -t myimage:1.0 .</code></li>
<li>You should have a Dockerfile in the current working dir.</li>
</ul>
</li>
</ul>
<p>The specific commands you can use in a dockerfile are:</p>
<p>FROM, PULL, RUN, and CMD</p>
<ul>
<li>FROM - Creates a layer from the ubuntu:18.04</li>
<li>PULL - Adds files from your Docker repository</li>
<li>RUN - Builds your container(you can use multiple of these)</li>
<li>CMD - Specifies what command to run within the container (entrypoint, only one)</li>
<li>ENV - to define environment variables</li>
</ul>
<h2 id="private-docker-repository"><a aria-hidden="true" class="anchor-heading" href="#private-docker-repository"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Private Docker Repository</h2>
<ul>
<li>Creating a private docker repository on <a href="/notes/edoa8rey418xum7jh6iyo0l">AWS ECR</a></li>
</ul>
<h2 id="misc"><a aria-hidden="true" class="anchor-heading" href="#misc"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Misc</h2>
<p>Docker for Mac creates a Linux VM and stores data there.</p>
<h2 id="examples"><a aria-hidden="true" class="anchor-heading" href="#examples"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Examples</h2>
<ul>
<li><a href="/notes/q972711fkjnov4mv6kfzb53">Running a Web Server in a Docker Container</a></li>
<li><a href="/notes/n0qgelqjpctzky75c80cflo">Connecting a Nodejs application to a MongoDB Docker Container</a></li>
<li><a href="/notes/ccglabj2ycmrw83mownsa6l">Docker repository on Nexus</a></li>
<li><a href="/notes/kwbbvuw6u3l28epk3prcncf">Nexus as Docker container</a></li>
</ul>
<h2 id="resources"><a aria-hidden="true" class="anchor-heading" href="#resources"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Resources</h2>
<ul>
<li><a href="https://labs.play-with-docker.com/">Play with Docker</a></li>
<li><a href="https://dockerlabs.collabnix.com/advanced/security/networking/">Docker Networking Security Basics | dockerlabs</a></li>
<li><a href="https://collabnix.com/docker-compose-cheatsheet/">Docker Compose Cheatsheet – Collabnix</a></li>
<li><a href="https://collabnix.com/docker-cheatsheet/">Docker Cheatsheet – Collabnix</a></li>
</ul>
<hr>
<strong>Backlinks</strong>
<ul>
<li><a href="/notes/522ww47pqvt6y0yj8zparmy">DevOps</a></li>
<li><a href="/notes/y43l1e8ej1au0hfrdkqmdh7">AWS ECS</a></li>
<li><a href="/notes/uu932tw90r0gvvg8maqr3s1">AWS IAM</a></li>
<li><a href="/notes/5151o31s5jmalwws5joksse">DevOps Best Practices</a></li>
<li><a href="/notes/ccglabj2ycmrw83mownsa6l">Docker repository on Nexus</a></li>
<li><a href="/notes/kwbbvuw6u3l28epk3prcncf">Nexus as Docker container</a></li>
<li><a href="/notes/qcaw5ht4vcnucydq104gh7v">Build Automation</a></li>
<li><a href="/notes/4f08m6qrqyvpf6hfk1898vt">Containers &#x26; Images</a></li>
<li><a href="/notes/5eybx5vd339tjnkglx8igde">Devops Interview Questions</a></li>
<li><a href="/notes/jqsu891tokqfup82wkq6j02">Jenkins</a></li>
<li><a href="/notes/gbeh61d6hvbmxxy63chp81b">Kubernetes</a></li>
<li><a href="/notes/q972711fkjnov4mv6kfzb53">Running a Web Server in a Docker Container</a></li>
<li><a href="/notes/bhvn90wgxfjtejvv2t10lvx">Terraform in AWS</a></li>
</ul></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#docker-architecture--components" title="Docker Architecture &amp; Components">Docker Architecture &amp; Components</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#install-docker" title="Install Docker">Install Docker</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#docker-image-vs-container" title="Docker Image vs Container">Docker Image vs Container</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#docker-cli" title="Docker cli">Docker cli</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#docker-hub" title="Docker Hub">Docker Hub</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#dangling-images" title="Dangling Images">Dangling Images</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#image-id" title="Image ID">Image ID</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#container" title="Container">Container</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#persistent-data--docker-volumes" title="Persistent Data / Docker Volumes">Persistent Data / Docker Volumes</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#docker-layers" title="Docker Layers">Docker Layers</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#container-port-vs-host-port" title="Container Port VS Host Port">Container Port VS Host Port</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#docker-network" title="Docker Network">Docker Network</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#docker-compose" title="Docker Compose">Docker Compose</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#dockerfile" title="Dockerfile">Dockerfile</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#private-docker-repository" title="Private Docker Repository">Private Docker Repository</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#misc" title="Misc">Misc</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#examples" title="Examples">Examples</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#resources" title="Resources">Resources</a></div></div></div></div></div></div></div></div></div></main><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></section></section></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"wf37vjntme0oklsx52ycrn4","title":"Docker","desc":"","updated":1657954374266,"created":1653554675466,"custom":{},"fname":"devlog.docker","type":"note","vault":{"fsPath":".","selfContained":true,"name":"Dendron"},"contentHash":"11fbbeb45e31ce08a2a5f162277078e6","links":[{"type":"wiki","from":{"fname":"devlog.docker","id":"wf37vjntme0oklsx52ycrn4","vaultName":"Dendron"},"value":"areas.devops","alias":"areas.devops","position":{"start":{"line":2,"column":10,"offset":10},"end":{"line":2,"column":26,"offset":26},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"areas.devops"}},{"type":"wiki","from":{"fname":"devlog.docker","id":"wf37vjntme0oklsx52ycrn4","vaultName":"Dendron"},"value":"devlog.cgroups","alias":"devlog.cgroups","position":{"start":{"line":3,"column":12,"offset":38},"end":{"line":3,"column":30,"offset":56},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"devlog.cgroups"}},{"type":"wiki","from":{"fname":"devlog.docker","id":"wf37vjntme0oklsx52ycrn4","vaultName":"Dendron"},"value":"devlog.containers \u0026 images","alias":"devlog.containers \u0026 images","position":{"start":{"line":38,"column":11,"offset":1998},"end":{"line":38,"column":41,"offset":2028},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"devlog.containers \u0026 images"}},{"type":"wiki","from":{"fname":"devlog.docker","id":"wf37vjntme0oklsx52ycrn4","vaultName":"Dendron"},"value":"devlog.grep","alias":"devlog.grep","position":{"start":{"line":114,"column":18,"offset":5318},"end":{"line":114,"column":33,"offset":5333},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"devlog.grep"}},{"type":"wiki","from":{"fname":"devlog.docker","id":"wf37vjntme0oklsx52ycrn4","vaultName":"Dendron"},"value":"devlog.sha256","alias":"devlog.sha256","position":{"start":{"line":135,"column":48,"offset":6477},"end":{"line":135,"column":65,"offset":6494},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"devlog.sha256"}},{"type":"wiki","from":{"fname":"devlog.docker","id":"wf37vjntme0oklsx52ycrn4","vaultName":"Dendron"},"value":"devlog.tty","alias":"devlog.tty","position":{"start":{"line":166,"column":92,"offset":8569},"end":{"line":166,"column":106,"offset":8583},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"devlog.tty"}},{"type":"wiki","from":{"fname":"devlog.docker","id":"wf37vjntme0oklsx52ycrn4","vaultName":"Dendron"},"value":"devlog.AWS ECR","alias":"devlog.AWS ECR","position":{"start":{"line":301,"column":43,"offset":14993},"end":{"line":301,"column":61,"offset":15011},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"devlog.AWS ECR"}},{"type":"wiki","from":{"fname":"devlog.docker","id":"wf37vjntme0oklsx52ycrn4","vaultName":"Dendron"},"value":"devlog.Running a Web Server in a Docker Container","alias":"devlog.Running a Web Server in a Docker Container","position":{"start":{"line":309,"column":3,"offset":15095},"end":{"line":309,"column":56,"offset":15148},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"devlog.Running a Web Server in a Docker Container"}},{"type":"wiki","from":{"fname":"devlog.docker","id":"wf37vjntme0oklsx52ycrn4","vaultName":"Dendron"},"value":"devlog.Connecting a Nodejs application to a MongoDB Docker container","alias":"devlog.Connecting a Nodejs application to a MongoDB Docker container","position":{"start":{"line":310,"column":3,"offset":15151},"end":{"line":310,"column":75,"offset":15223},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"devlog.Connecting a Nodejs application to a MongoDB Docker container"}},{"type":"wiki","from":{"fname":"devlog.docker","id":"wf37vjntme0oklsx52ycrn4","vaultName":"Dendron"},"value":"devlog.Docker repository on Nexus","alias":"devlog.Docker repository on Nexus","position":{"start":{"line":311,"column":3,"offset":15226},"end":{"line":311,"column":40,"offset":15263},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"devlog.Docker repository on Nexus"}},{"type":"wiki","from":{"fname":"devlog.docker","id":"wf37vjntme0oklsx52ycrn4","vaultName":"Dendron"},"value":"devlog.Nexus as Docker container","alias":"devlog.Nexus as Docker container","position":{"start":{"line":312,"column":3,"offset":15266},"end":{"line":312,"column":39,"offset":15302},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"devlog.Nexus as Docker container"}},{"from":{"fname":"areas.devops","vaultName":"Dendron"},"type":"backlink","position":{"start":{"line":123,"column":7,"offset":3736},"end":{"line":123,"column":24,"offset":3753},"indent":[]},"value":"devlog.Docker","alias":"devlog.Docker"},{"from":{"fname":"devlog.AWS ECS","vaultName":"Dendron"},"type":"backlink","position":{"start":{"line":20,"column":33,"offset":1553},"end":{"line":20,"column":50,"offset":1570},"indent":[]},"value":"devlog.docker","alias":"devlog.docker"},{"from":{"fname":"devlog.AWS IAM","vaultName":"Dendron"},"type":"backlink","position":{"start":{"line":15,"column":128,"offset":1383},"end":{"line":15,"column":145,"offset":1400},"indent":[]},"value":"devlog.Docker","alias":"devlog.Docker"},{"from":{"fname":"devlog.DevOps Best Practices","vaultName":"Dendron"},"type":"backlink","position":{"start":{"line":6,"column":32,"offset":435},"end":{"line":6,"column":49,"offset":452},"indent":[]},"value":"devlog.Docker","alias":"devlog.Docker"},{"from":{"fname":"devlog.Docker repository on Nexus","vaultName":"Dendron"},"type":"backlink","position":{"start":{"line":2,"column":30,"offset":30},"end":{"line":2,"column":47,"offset":47},"indent":[]},"value":"devlog.docker","alias":"devlog.docker"},{"from":{"fname":"devlog.Nexus as Docker container","vaultName":"Dendron"},"type":"backlink","position":{"start":{"line":2,"column":30,"offset":30},"end":{"line":2,"column":47,"offset":47},"indent":[]},"value":"devlog.docker","alias":"devlog.docker"},{"from":{"fname":"devlog.build automation","vaultName":"Dendron"},"type":"backlink","position":{"start":{"line":102,"column":10,"offset":4596},"end":{"line":102,"column":27,"offset":4613},"indent":[]},"value":"devlog.Docker","alias":"devlog.Docker"},{"from":{"fname":"devlog.containers \u0026 images","vaultName":"Dendron"},"type":"backlink","position":{"start":{"line":7,"column":173,"offset":209},"end":{"line":7,"column":190,"offset":226},"indent":[]},"value":"devlog.docker","alias":"devlog.docker"},{"from":{"fname":"devlog.devops interview questions","vaultName":"Dendron"},"type":"backlink","position":{"start":{"line":131,"column":34,"offset":5793},"end":{"line":131,"column":51,"offset":5810},"indent":[]},"value":"devlog.Docker","alias":"devlog.Docker"},{"from":{"fname":"devlog.jenkins","vaultName":"Dendron"},"type":"backlink","position":{"start":{"line":14,"column":76,"offset":978},"end":{"line":14,"column":93,"offset":995},"indent":[]},"value":"devlog.docker","alias":"devlog.docker"},{"from":{"fname":"devlog.jenkins","vaultName":"Dendron"},"type":"backlink","position":{"start":{"line":29,"column":20,"offset":1777},"end":{"line":29,"column":37,"offset":1794},"indent":[]},"value":"devlog.docker","alias":"devlog.docker"},{"from":{"fname":"devlog.jenkins","vaultName":"Dendron"},"type":"backlink","position":{"start":{"line":79,"column":38,"offset":3647},"end":{"line":79,"column":55,"offset":3664},"indent":[]},"value":"devlog.docker","alias":"devlog.docker"},{"from":{"fname":"devlog.kubernetes","vaultName":"Dendron"},"type":"backlink","position":{"start":{"line":77,"column":6,"offset":4799},"end":{"line":77,"column":23,"offset":4816},"indent":[]},"value":"devlog.Docker","alias":"devlog.Docker"},{"from":{"fname":"devlog.running a web server in a docker container","vaultName":"Dendron"},"type":"backlink","position":{"start":{"line":2,"column":12,"offset":12},"end":{"line":2,"column":29,"offset":29},"indent":[]},"value":"devlog.Docker","alias":"devlog.Docker"},{"from":{"fname":"devlog.terraform aws","vaultName":"Dendron"},"type":"backlink","position":{"start":{"line":5,"column":33,"offset":108},"end":{"line":5,"column":50,"offset":125},"indent":[]},"value":"devlog.docker","alias":"devlog.docker"}],"anchors":{"docker-architecture--components":{"type":"header","text":"Docker Architecture \u0026 Components","value":"docker-architecture--components","line":26,"column":0,"depth":2},"install-docker":{"type":"header","text":"Install Docker","value":"install-docker","line":32,"column":0,"depth":2},"docker-image-vs-container":{"type":"header","text":"Docker Image vs Container","value":"docker-image-vs-container","line":36,"column":0,"depth":2},"docker-cli":{"type":"header","text":"Docker cli","value":"docker-cli","line":46,"column":0,"depth":2},"docker-hub":{"type":"header","text":"Docker Hub","value":"docker-hub","line":136,"column":0,"depth":2},"dangling-images":{"type":"header","text":"Dangling Images","value":"dangling-images","line":143,"column":0,"depth":2},"image-id":{"type":"header","text":"Image ID","value":"image-id","line":165,"column":0,"depth":2},"container":{"type":"header","text":"Container","value":"container","line":169,"column":0,"depth":2},"persistent-data--docker-volumes":{"type":"header","text":"Persistent Data / Docker Volumes","value":"persistent-data--docker-volumes","line":178,"column":0,"depth":2},"docker-layers":{"type":"header","text":"Docker Layers","value":"docker-layers","line":217,"column":0,"depth":2},"container-port-vs-host-port":{"type":"header","text":"Container Port VS Host Port","value":"container-port-vs-host-port","line":225,"column":0,"depth":2},"docker-network":{"type":"header","text":"Docker Network","value":"docker-network","line":239,"column":0,"depth":2},"docker-compose":{"type":"header","text":"Docker Compose","value":"docker-compose","line":255,"column":0,"depth":2},"dockerfile":{"type":"header","text":"Dockerfile","value":"dockerfile","line":285,"column":0,"depth":2},"private-docker-repository":{"type":"header","text":"Private Docker Repository","value":"private-docker-repository","line":305,"column":0,"depth":2},"misc":{"type":"header","text":"Misc","value":"misc","line":309,"column":0,"depth":2},"examples":{"type":"header","text":"Examples","value":"examples","line":313,"column":0,"depth":2},"resources":{"type":"header","text":"Resources","value":"resources","line":320,"column":0,"depth":2}},"children":[],"parent":"9gtn7g40cvqui0sifl1s7t5","data":{}},"body":"\u003ch1 id=\"docker\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#docker\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eDocker\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003eAreas: \u003ca href=\"/notes/522ww47pqvt6y0yj8zparmy\"\u003eDevOps\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eRelated: \u003ca href=\"/notes/kgtifubcsyxu0xja4llap2q\"\u003eCgroups\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003cul\u003e\n\u003cli\u003eDocker is a platform for developers and sysadmins used to develop, deploy and run\ncontainerized applications.\u003c/li\u003e\n\u003cli\u003eA container is a running process that encapsulates everything an application needs to\nrun (and only those things).\u003c/li\u003e\n\u003cli\u003eDocker makes it really easy to install and run software without worrying about setup or\ndependencies.\u003c/li\u003e\n\u003cli\u003eAn image is a standalone, isolated, lightweight and executable package that contains\nall the required components (code, runtime, system tools, libraries, settings, etc)\nnecessary to run an application. An image is the actual, moveable artifact.\u003c/li\u003e\n\u003cli\u003eThe container is the runtime instance of the image. From the same image, you can launch more containers.\nImages for many applications can be found on \u003ca href=\"https://hub.docker.com\"\u003ehttps://hub.docker.com\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eAn image \"becomes\" a container when we actually start an image. It creates a container environment.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"docker-architecture--components\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#docker-architecture--components\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eDocker Architecture \u0026#x26; Components\u003c/h2\u003e\n\u003cp\u003e\u003cimg src=\"https://res.cloudinary.com/zubayr/image/upload/v1657820835/wiki/gzkdopsbfapaqzzq2r5n.png\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://res.cloudinary.com/zubayr/image/upload/v1657820890/wiki/yzkdx8fuqd6gyrmd9lug.png\"\u003e\u003c/p\u003e\n\u003ch2 id=\"install-docker\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#install-docker\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eInstall Docker\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://docs.docker.com/engine/install/\"\u003eDocker Docs\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"docker-image-vs-container\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#docker-image-vs-container\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eDocker Image vs Container\u003c/h2\u003e\n\u003cp\u003eImages can exist without containers, whereas a container needs to run an image to exist. Therefore, containers are dependent on images and use them to construct a run-time environment and run an application.\u003c/p\u003e\n\u003cp\u003eThe two concepts exist as essential components (or rather phases) in the process of running a Docker container. Having a running container is the final “phase” of that process, indicating it is dependent on previous steps and components. That is why docker images essentially govern and shape containers.\u003c/p\u003e\n\u003cp\u003eContainer is the running environment for(of) an image. Container has application image, a port binded to it(makes it possible for it to talk to the application running inside it), Containers has virtual FS.\u003c/p\u003e\n\u003cp\u003eSee also: \u003ca href=\"/notes/4f08m6qrqyvpf6hfk1898vt\"\u003eContainers \u0026#x26; Images\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"docker-cli\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#docker-cli\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eDocker cli\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eRun \u003ccode\u003edocker info\u003c/code\u003e, \u003ccode\u003edocker --version\u003c/code\u003e or \u003ccode\u003edocker version\u003c/code\u003e to check it's version and if the client is able to communicate with the server.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eThe new way of running docker commands is:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eFirst comes the \u003ccode\u003edocker\u003c/code\u003e command followed by a \u003ccode\u003emanagement command\u003c/code\u003e and then a \u003ccode\u003esub command\u003c/code\u003e with options\u003c/li\u003e\n\u003cli\u003eRun \u003ccode\u003edocker help\u003c/code\u003e to find all commands, sub commands\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTo test docker run the \u003ccode\u003ehello-world\u003c/code\u003e container\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003edocker container run hello-world\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTo search for an image on docker hub\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003edocker search mongo\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTo pull an image\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003edocker image pull redis\u003c/code\u003e is same as \u003ccode\u003edocker image pull redis:latest\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003edocker image pull redis:5.0.10\u003c/code\u003e \u003ccode\u003e:tag\u003c/code\u003e(optional)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTo list all images\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003edocker images\u003c/code\u003e or \u003ccode\u003edocker image ls\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTo run an container from(of) an image\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003edocker container run redis\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTo pull an image and run container\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003edocker container run -P httpd\u003c/code\u003e (\u003ccode\u003e-P\u003c/code\u003e to publish all exposed ports to random ports)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eThe above command executed in two steps\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003edocker container create -p 80:80 httpd\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003edocker container start CONTAINER_ID\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTo get a shell inside docker\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003edocker container run -it centos\u003c/code\u003e(if you run it without passing any commands it'll simply exit, \u003ccode\u003e-it\u003c/code\u003e is required for shell access of the container)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eGet terminal of the container\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003edocker exec -it CONTAINER_ID /bin/bash\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003edocker exec -it CONTAINER_ID /bin/sh\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTo give your container a custom name(default is random)\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003edocker run -d -p 6001:6379 --name redis-olderv redis:4.0\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTo list all running docker containers\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003edocker ps\u003c/code\u003e or \u003ccode\u003edocker container ls\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eps\u003c/code\u003e stands for process status\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTo list all docker containers\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003edocker ps -a\u003c/code\u003e or \u003ccode\u003edocker container ls -a\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTo filter by status run\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003edocker container ls -a -f status=exited\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTo list only container IDs\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003edocker container ls -a -f status=exited -q\u003c/code\u003e -q comes from quiet\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTo remove image and the container\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eFirst stop and then remove the container\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003edocker container stop CONTAINER_ID\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eYou don't have to write the entire container ID, the first few digits as long as they're unique\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003edocker container rm CONTAINER_ID\u003c/code\u003e to remove the container\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTo remove a running container \u003ccode\u003edocker container rm -f CONTAINER_ID\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTo remove using filter use command substitution\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003edocker container rm $(docker container ls -a -f status=exited -q)\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTo remove an image\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003edocker rmi\u003c/code\u003e or \u003ccode\u003edocker image rm IMAGE_NAME\u003c/code\u003e (\u003ccode\u003e-f\u003c/code\u003e to forcefully remove a still running container's image)\u003c/li\u003e\n\u003cli\u003eIf you try to remove an image that is stopped or running, it'll throw an error, you'll need to remove the container before removing it's image.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTo view logs of a container(useful for debugging):\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003edocker container logs CONTAINER_ID\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003edocker container logs -f CONTAINER_NAME\u003c/code\u003e (\u003ccode\u003e-f\u003c/code\u003e to view them in realtime)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTo view all the process running inside a container:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003edocker container top CONTAINER_NAME\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003edocker container top CONTAINER_ID\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eYou can look for the same processes running on the host machine(even the process IDs are same)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTo display realtime info about running containers:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003edocker container stats\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003edocker container stats CONTAINER_NAME\u003c/code\u003e (for info about specific container)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTo view more info about containers\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003edocker container inspect CONTAINER_NAME/ID\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eFilter using \u003ca href=\"/notes/d3d1v1gzr71bjd8nc7jaibf\"\u003egrep\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003edocker container inspect CONTAINER_NAME/ID | grep -i ipaddress\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTo commit changes to a container's image:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003edocker commit -m \"commit message\" -a \"author name\" CONTAINER_ID repo_name/image_name:latest\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eYou can now use the newly created image with your committed changes.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTo add a custom tag to an existing image(\u003cstrong\u003edoesn't\u003c/strong\u003e create a new image, will point towards the image with the same ID):\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003edocker image tag image_name repo_name/image_name:new_tag\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003edocker image tag repo_name/image_name:old_tag repo_name/image_name:new_tag\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTo push the image to docker hub:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eThe repo name used must match the username on docker hub\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003edocker login\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003edocker image push repo_name/image_name:tag\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTo rename an image (makes a copy, points to the same image ID)\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003edocker tag my-app:1.0 new-my-app:1.1.0\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"docker-hub\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#docker-hub\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eDocker Hub\u003c/h2\u003e\n\u003cp\u003eImage name follows the convention of \u003ccode\u003erepository/image_name:tag\u003c/code\u003e but official images don't follow this structure as they're at the root level.\u003c/p\u003e\n\u003cp\u003eImage ID is used to identify docker images, a single image can have multiple tags pointing to the same image.\nDocker Image ID is a digest which contains the \u003ca title=\"Private\" style=\"color: brown\" href=\"https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html\" target=\"_blank\"\u003edevlog.sha256 (Private)\u003c/a\u003e hash of the image.\u003c/p\u003e\n\u003ch2 id=\"dangling-images\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#dangling-images\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eDangling Images\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eDocker images consist of multiple layers. Dangling images are layers that have no relationship to any tagged images.\u003c/li\u003e\n\u003cli\u003eTo delete dangling images, stopped containers and networks not used by at least one container run:\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003edocker system prune\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003edocker system prune -a\u003c/code\u003e to remove unused images as well\u003c/li\u003e\n\u003cli\u003eAn image consists of multiple layers. They're read-only and each has an ID.\u003c/li\u003e\n\u003cli\u003eA layer is saved only once and can be used by more than one image. (This saves disk space and time when pulling images.)\u003c/li\u003e\n\u003cli\u003eThey layers are stacked on top of each other.\u003c/li\u003e\n\u003cli\u003eWhen you run a container from an image, a new writeable layer is added on top of the image layers.\u003c/li\u003e\n\u003cli\u003eThis writeable layer is often called \"Container Layer\" and allows you to make changes to the container since the lower layers on the image are read-only.\u003c/li\u003e\n\u003cli\u003eWhen we remove a container, we're in fact only removing the writeable layer.\u003c/li\u003e\n\u003cli\u003eTo write data to the writeable layer of the container, docker uses \"Storage Drivers\"\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eoverlay2\u003c/code\u003e is the default and recommended driver.\u003c/li\u003e\n\u003cli\u003eTo view the layers of an image:\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003edocker image inspect image_name\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eOn disk, the layers are located at \u003ccode\u003e/var/lib/docker/overlay2\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eThere are two different values under \"SIZE\" when \u003ccode\u003edocker container ls\u003c/code\u003e is run\n\u003cul\u003e\n\u003cli\u003eThe first value represents the amount of data used for the writeable layer of each container.\u003c/li\u003e\n\u003cli\u003eThe \"Virtual\" size represents the amount of data for the read-only image layers plus the container's writeable layer's size\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eMultiple containers may share some or all read-only image data, and two containers started from same image share 100% of the read-only data.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"image-id\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#image-id\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eImage ID\u003c/h2\u003e\n\u003cp\u003eA Docker image's ID is a digest, which contains an SHA256 hash of the image's JSON configuration object.\u003c/p\u003e\n\u003ch2 id=\"container\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#container\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eContainer\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eA container when it starts executes a default command, as long as the container's default command is running it'll stay up. Once the command finishes execution, the container will also exit.\u003c/li\u003e\n\u003cli\u003eTo get access to a shell of a container use \u003ccode\u003e-it\u003c/code\u003e flags, \u003ccode\u003ei\u003c/code\u003e for interactive and \u003ccode\u003et\u003c/code\u003e for \u003ca href=\"/notes/jdwzfnsup2nr4il6m611vvl\"\u003etty\u003c/a\u003e.\u003c/li\u003e\n\u003cli\u003eTo escape from a running container without stopping the container use \u003ccode\u003eCTRL + P + Q\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eTo execute commands on a running container:\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003edocker container exec -it CONTAINER_ID bash\u003c/code\u003e or\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003edocker container exec CONTAINER_ID cat /etc/shadow\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"persistent-data--docker-volumes\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#persistent-data--docker-volumes\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003ePersistent Data / Docker Volumes\u003c/h2\u003e\n\u003cp\u003eContainers have Virtual FS inside them.\u003c/p\u003e\n\u003cp\u003eBy default, all files created inside a container are stored on the writeable container layer. The data doesn't persist when the container no longer exists(stops, removed, restarted) and it can be difficult to get the data out of the container if another process needs it.\u003c/p\u003e\n\u003cp\u003eDocker provides two options for the container to store data in the host machine, to make data persist.\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eVolumes\u003c/li\u003e\n\u003cli\u003eBind Mounts\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eVolumes are preferred over Bind Mounts. While \u003cstrong\u003eBind Mounts\u003c/strong\u003e are dependent on the directory structure and the OS of the host machine. Volumes are completely managed by Docker. \u003cstrong\u003eA Volume is a persistent directory of a container. Its a mapping between a directory on the docker host and a directory on a container.\u003c/strong\u003e To create a volume you mount a physical folder from the host into the virtual file system of Docker. Data is written on the host dir.\u003c/p\u003e\n\u003cp\u003eThere are different ways of creating Docker Volumes:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eWe can create volume by defining it in the Dockerfile using the \u003ccode\u003eVOLUME\u003c/code\u003e instruction.\u003c/li\u003e\n\u003cli\u003eBy using \u003ccode\u003e-v\u003c/code\u003e flag when starting(\u003ccode\u003edocker run\u003c/code\u003e) a container and mapping a host dir to a to a dir in the container. These are called \u003cstrong\u003eHost Volumes\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003eYou don't specify which host dir should be mounted, its created by Docker itself inside \u003ccode\u003e/var/lib/docker/volumes\u003c/code\u003e. These are called \u003cstrong\u003eAnonymous Volumes\u003c/strong\u003e. For each container a folder is generated that gets mounted. Anonymous Volumes will have a hash as a name.\u003c/li\u003e\n\u003cli\u003eYou can specify a name for an autogenerated volume by \u003ccode\u003edocker run -v name:/var/lib/mysql/data\u003c/code\u003e. There are called \u003cstrong\u003eNamed Volumes\u003c/strong\u003e.\u003c/li\u003e\n\u003cli\u003eYou can also create them when using \u003ccode\u003edocker-compose\u003c/code\u003e using the \u003ccode\u003evolumes\u003c/code\u003e definition under a declared container. You can also define a list of volumes you want that \u003ccode\u003edocker-compose\u003c/code\u003e file to create so you can reference the same volume on different containers.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cimg src=\"https://res.cloudinary.com/zubayr/image/upload/v1657894394/wiki/cwwndvvg1gypnj1wx3p7.png\"\u003e\u003c/p\u003e\n\u003cp\u003eWhen you mount a volume, they can be named or anonymous. Anonymous volumes are not given an explicit name when they're first mounted into a container; docker gives them a random name that is guaranteed to be unique within a given docker host.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003edocker volume create volumeName\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003edocker volume ls\u003c/code\u003e - to list all volumes\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003edocker volume inspect volumeName\u003c/code\u003e - info about a volume, like where the data on the volume is physically located on the drive.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003edocker volume rm volumeName\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003edocker volume prune\u003c/code\u003e (will remove all unused volumes)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThe directory on the host that is being used as the mount point can be found at \u003ccode\u003e/var/lib/docker/volumes/\u003c/code\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eStarting a container with a volume.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003edocker container run -d --name mywebapp -p 80:80 -v mysite:/usr/share/ngnix/html nginx\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eYour website's html is copied TO the container's \u003ccode\u003e/usr/share/ngnix/html\u003c/code\u003e (in the above example) for it to be served.\u003c/p\u003e\n\u003ch2 id=\"docker-layers\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#docker-layers\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eDocker Layers\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eDocker format gives assets unique identifiers called Docker Layers\u003c/li\u003e\n\u003cli\u003eDocker Layers == Assets\u003c/li\u003e\n\u003cli\u003eAssets can be \u003cstrong\u003ereused\u003c/strong\u003e for different components\n\u003cul\u003e\n\u003cli\u003eE.g. if two Docker Images use same layers, you’d have 2 components that share the layer as an asset.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eA Docker Layer can be specific OS, referenced by multiple Docker Images.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"container-port-vs-host-port\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#container-port-vs-host-port\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eContainer Port VS Host Port\u003c/h2\u003e\n\u003cp\u003eMultiple containers(even same images) can run on your host machine. Host machine has certain ports that can be opened.\u003c/p\u003e\n\u003cp\u003eA binding needs to be created between your host machine and the container.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://res.cloudinary.com/zubayr/image/upload/v1657823871/wiki/geibagpoa2uvx95wwaxg.png\"\u003e\u003c/p\u003e\n\u003cp\u003eYou can specify the binding of the port along with the run command.\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003edocker run -p HostPort:ContainerPort image\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003edocker run -p 6000:6379 redis\u003c/code\u003e\u003c/p\u003e\n\u003ch2 id=\"docker-network\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#docker-network\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eDocker Network\u003c/h2\u003e\n\u003cp\u003eDocker creates it’s own isolated Docker Network where the containers are running. When you deploy two containers in the same Docker Network, they can talk to each other using the Container name.\u003c/p\u003e\n\u003cp\u003eApplications outside of the Docker Network connect using localhost and port number.\u003c/p\u003e\n\u003cp\u003eIn production, this application running/developed outside of the Network is also added to the Network.\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003edocker network ls\u003c/code\u003e list networks (some are autogenerated)\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003edocker network create mongo-network\u003c/code\u003e to create a new network\u003c/p\u003e\n\u003cp\u003eMake a container run inside a Network\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003edocker run -p 27017:27017 -d mongo\u003c/code\u003e\u003c/p\u003e\n\u003ch2 id=\"docker-compose\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#docker-compose\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eDocker Compose\u003c/h2\u003e\n\u003cp\u003eDocker Compose file is basically a bunch of docker commands structured nicely so you don’t have to run each of those docker run commands one by one.\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003edocker-compose\u003c/code\u003e is a \u003ccode\u003eyaml\u003c/code\u003e file.\u003c/p\u003e\n\u003cp\u003eDocker compose creates a common network for all the containers mentioned inside it.\u003c/p\u003e\n\u003cpre class=\"language-yaml\"\u003e\u003ccode class=\"language-yaml\"\u003eversion\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e'3'\u003c/span\u003e \u003cspan class=\"token comment\"\u003e# version of docker-compose\u003c/span\u003e\n\u003cspan class=\"token key atrule\"\u003eservices\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token comment\"\u003e# here goes the containers\u003c/span\u003e\n\t\u003cspan class=\"token key atrule\"\u003emongodb\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token comment\"\u003e# name of a container\u003c/span\u003e\n\t\t\u003cspan class=\"token key atrule\"\u003eimage\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e mongo \u003cspan class=\"token comment\"\u003e# name of the image\u003c/span\u003e\n\t\t\u003cspan class=\"token key atrule\"\u003eports\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n\t\t\t\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e 27017\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\u003cspan class=\"token number\"\u003e27017\u003c/span\u003e \u003cspan class=\"token comment\"\u003e# HOST:CONTAINER\u003c/span\u003e\n\t\t\u003cspan class=\"token key atrule\"\u003eenvironment\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token comment\"\u003e# env variables\u003c/span\u003e\n\t\t\t\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e MONGO_USERNAME=admin\n\t\t\t\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e...\u003c/span\u003e\n\t\u003cspan class=\"token key atrule\"\u003emongo-express\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n\t\t\u003cspan class=\"token key atrule\"\u003eimage\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e mongo\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003eexpress\n\t\t\u003cspan class=\"token key atrule\"\u003eports\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n\t\t\t\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e 8080\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\u003cspan class=\"token number\"\u003e8080\u003c/span\u003e\n\t\t\u003cspan class=\"token key atrule\"\u003eenvironment\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n\t\t\t\u003cspan class=\"token punctuation\"\u003e-\u003c/span\u003e ME_CONFIG\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003evalue\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eStart Docker container using docker-compose file.\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003edocker-compose -f mongo.yaml up\u003c/code\u003e\u003c/p\u003e\n\u003ch2 id=\"dockerfile\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#dockerfile\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eDockerfile\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eIt is a text file that contains all the instructions needed to create an image. A recipe for creating docker images.\u003c/li\u003e\n\u003cli\u003eThe syntax it uses is from Docker platform and uses statements to generate docker images.\u003c/li\u003e\n\u003cli\u003eIt also runs bash commands (single line which uses \u003ccode\u003e\u0026#x26;\u0026#x26;\u003c/code\u003e to append commands and \u003ccode\u003e\\\u003c/code\u003e backslash for a newline.)\u003c/li\u003e\n\u003cli\u003eTo use a Dockerfile for a custom image, copy paste the instructions from an existing Dockerfile locally and remove the \u003ccode\u003eCOPY\u003c/code\u003e instructions to adapt it for your custom image with your own instructions.\u003c/li\u003e\n\u003cli\u003eTo build an image from the custom Dockerfile:\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003edocker image build -t myimage:1.0 .\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eYou should have a Dockerfile in the current working dir.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThe specific commands you can use in a dockerfile are:\u003c/p\u003e\n\u003cp\u003eFROM, PULL, RUN, and CMD\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eFROM - Creates a layer from the ubuntu:18.04\u003c/li\u003e\n\u003cli\u003ePULL - Adds files from your Docker repository\u003c/li\u003e\n\u003cli\u003eRUN - Builds your container(you can use multiple of these)\u003c/li\u003e\n\u003cli\u003eCMD - Specifies what command to run within the container (entrypoint, only one)\u003c/li\u003e\n\u003cli\u003eENV - to define environment variables\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"private-docker-repository\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#private-docker-repository\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003ePrivate Docker Repository\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eCreating a private docker repository on \u003ca href=\"/notes/edoa8rey418xum7jh6iyo0l\"\u003eAWS ECR\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"misc\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#misc\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eMisc\u003c/h2\u003e\n\u003cp\u003eDocker for Mac creates a Linux VM and stores data there.\u003c/p\u003e\n\u003ch2 id=\"examples\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#examples\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eExamples\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"/notes/q972711fkjnov4mv6kfzb53\"\u003eRunning a Web Server in a Docker Container\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/n0qgelqjpctzky75c80cflo\"\u003eConnecting a Nodejs application to a MongoDB Docker Container\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/ccglabj2ycmrw83mownsa6l\"\u003eDocker repository on Nexus\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/kwbbvuw6u3l28epk3prcncf\"\u003eNexus as Docker container\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"resources\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#resources\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eResources\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://labs.play-with-docker.com/\"\u003ePlay with Docker\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://dockerlabs.collabnix.com/advanced/security/networking/\"\u003eDocker Networking Security Basics | dockerlabs\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://collabnix.com/docker-compose-cheatsheet/\"\u003eDocker Compose Cheatsheet – Collabnix\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://collabnix.com/docker-cheatsheet/\"\u003eDocker Cheatsheet – Collabnix\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003cstrong\u003eBacklinks\u003c/strong\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"/notes/522ww47pqvt6y0yj8zparmy\"\u003eDevOps\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/y43l1e8ej1au0hfrdkqmdh7\"\u003eAWS ECS\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/uu932tw90r0gvvg8maqr3s1\"\u003eAWS IAM\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/5151o31s5jmalwws5joksse\"\u003eDevOps Best Practices\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/ccglabj2ycmrw83mownsa6l\"\u003eDocker repository on Nexus\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/kwbbvuw6u3l28epk3prcncf\"\u003eNexus as Docker container\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/qcaw5ht4vcnucydq104gh7v\"\u003eBuild Automation\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/4f08m6qrqyvpf6hfk1898vt\"\u003eContainers \u0026#x26; Images\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/5eybx5vd339tjnkglx8igde\"\u003eDevops Interview Questions\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/jqsu891tokqfup82wkq6j02\"\u003eJenkins\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/gbeh61d6hvbmxxy63chp81b\"\u003eKubernetes\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/q972711fkjnov4mv6kfzb53\"\u003eRunning a Web Server in a Docker Container\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/bhvn90wgxfjtejvv2t10lvx\"\u003eTerraform in AWS\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e","noteIndex":{"id":"3nfl4nvv516muyzozhcwrw8","title":"/root","desc":"","updated":1655559901157,"created":1637610830605,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":".","selfContained":true,"name":"Dendron"},"contentHash":"581715455a6f0f7a699209e8521b4acf","links":[{"type":"wiki","from":{"fname":"root","id":"3nfl4nvv516muyzozhcwrw8","vaultName":"Dendron"},"value":"archive.about","alias":"my","position":{"start":{"line":4,"column":9,"offset":37},"end":{"line":4,"column":29,"offset":57},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"archive.about"}},{"type":"wiki","from":{"fname":"root","id":"3nfl4nvv516muyzozhcwrw8","vaultName":"Dendron"},"value":"tags.areas","alias":"#areas","position":{"start":{"line":20,"column":111,"offset":1051},"end":{"line":20,"column":117,"offset":1057},"indent":[]},"xvault":false,"to":{"fname":"tags.areas"}},{"type":"wiki","from":{"fname":"root","id":"3nfl4nvv516muyzozhcwrw8","vaultName":"Dendron"},"value":"tags.areas","alias":"#areas","position":{"start":{"line":21,"column":3,"offset":1198},"end":{"line":21,"column":9,"offset":1204},"indent":[]},"xvault":false,"to":{"fname":"tags.areas"}},{"type":"wiki","from":{"fname":"root","id":"3nfl4nvv516muyzozhcwrw8","vaultName":"Dendron"},"value":"swipes","alias":"swipes","position":{"start":{"line":27,"column":3,"offset":1724},"end":{"line":27,"column":13,"offset":1734},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"swipes"}},{"type":"wiki","from":{"fname":"root","id":"3nfl4nvv516muyzozhcwrw8","vaultName":"Dendron"},"value":"swipes.quotes","alias":"quotes","position":{"start":{"line":27,"column":48,"offset":1769},"end":{"line":27,"column":72,"offset":1793},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"swipes.quotes"}},{"type":"wiki","from":{"fname":"root","id":"3nfl4nvv516muyzozhcwrw8","vaultName":"Dendron"},"value":"swipes.excerpts","alias":"excerpts","position":{"start":{"line":27,"column":74,"offset":1795},"end":{"line":27,"column":102,"offset":1823},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"swipes.excerpts"}},{"type":"wiki","from":{"fname":"root","id":"3nfl4nvv516muyzozhcwrw8","vaultName":"Dendron"},"value":"swipes.sayings","alias":"sayings","position":{"start":{"line":27,"column":104,"offset":1825},"end":{"line":27,"column":130,"offset":1851},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"swipes.sayings"}},{"type":"wiki","from":{"fname":"root","id":"3nfl4nvv516muyzozhcwrw8","vaultName":"Dendron"},"value":"swipes.phrases","alias":"phrases","position":{"start":{"line":27,"column":132,"offset":1853},"end":{"line":27,"column":158,"offset":1879},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"swipes.phrases"}},{"type":"wiki","from":{"fname":"root","id":"3nfl4nvv516muyzozhcwrw8","vaultName":"Dendron"},"value":"resources.people","alias":"others","position":{"start":{"line":27,"column":214,"offset":1935},"end":{"line":27,"column":241,"offset":1962},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"resources.people"}},{"type":"wiki","from":{"fname":"root","id":"3nfl4nvv516muyzozhcwrw8","vaultName":"Dendron"},"value":"inbox.webmark","alias":"webmark","position":{"start":{"line":31,"column":235,"offset":2463},"end":{"line":31,"column":260,"offset":2488},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"inbox.webmark"}},{"type":"wiki","from":{"fname":"root","id":"3nfl4nvv516muyzozhcwrw8","vaultName":"Dendron"},"value":"slipbox.Ontology","alias":"slipbox.Ontology","position":{"start":{"line":55,"column":3,"offset":3735},"end":{"line":55,"column":23,"offset":3755},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"slipbox.Ontology"}},{"type":"wiki","from":{"fname":"root","id":"3nfl4nvv516muyzozhcwrw8","vaultName":"Dendron"},"value":"archive.about","alias":"About me","position":{"start":{"line":60,"column":3,"offset":3963},"end":{"line":60,"column":29,"offset":3989},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"archive.about"}}],"anchors":{"welcome-to-noetic-noggin":{"type":"header","text":"Welcome to Noetic Noggin","value":"welcome-to-noetic-noggin","line":8,"column":0,"depth":1},"principles":{"type":"header","text":"Principles","value":"principles","line":18,"column":0,"depth":2},"all-notes-should-be-relative-to-me":{"type":"header","text":"All notes should be relative to me.","value":"all-notes-should-be-relative-to-me","line":20,"column":0,"depth":3},"gotta-capture-em-all":{"type":"header","text":"Gotta capture 'em all","value":"gotta-capture-em-all","line":30,"column":0,"depth":3},"dont-force-evolution":{"type":"header","text":"Don't force evolution","value":"dont-force-evolution","line":40,"column":0,"depth":3},"noise--signal":{"type":"header","text":"Noise \u0026 Signal","value":"noise--signal","line":45,"column":0,"depth":3},"why-do-any-of-this":{"type":"header","text":"Why do any of this?","value":"why-do-any-of-this","line":50,"column":0,"depth":3},"structure-of-this-wiki":{"type":"header","text":"Structure of this wiki","value":"structure-of-this-wiki","line":59,"column":0,"depth":2},"quicklinks":{"type":"header","text":"Quicklinks","value":"quicklinks","line":64,"column":0,"depth":2}},"children":["0yay2om15bsg2li2p6qgux7","05c4nnjqa92zx11ld6o0ytn","9gtn7g40cvqui0sifl1s7t5","ftbd1hknsd3ocd7jao26tn3","a1kmkdbpclaz5p6sykaw6kc","z121gkmqfo09m8r7jgnpfgn","gkqrr7xbt18xhi93dmjrwzj","ja2x4lrgejr9o9wvit0bd0d","luv39odkfibx3wdosvigwvy","vtvk3bi6o72w58oima9xzf3","yy652kvqrkfn9ipk07m40h4"],"parent":null,"data":{},"body":"\n# Welcome to Noetic Noggin\n\nThis is [[my|archive.about]] personal wiki and a commonplace book; notes by me, for me.\n\n🚧 Permanently under construction 🚧\n\n![](https://res.cloudinary.com/zubayr/image/upload/v1658499909/wiki/ajevkuyebljlxiblyst2.png)\n\nThis wiki was made possible with [dendron.so](https://dendron.so) and [obisidian.md](https://obsidian.md). Stored on [Github Repository](https://github.com/zubayrrr/dendron) and hosted on [Netlify](https://netlify.com) for free.\n\n## Principles\n\n### All notes should be relative to me.\n\n- All notes in principle are written for me; what I know about a subject, how I feel about a particular thing.\n- Opinions are fine as long as I feel strong epistemic confidence in the given opinion.\n- Don't over explain a note if it's not necessary, remember, these notes are for you and are relative to whatever knowledge you posses about the subject.\n- Read books and make an dedicated notes for them.\n- Listen podcasts but capture them inside a \"subject specific\" note or \"Map of Concept\" note or a note tagged #areas. Because making notes from podcasts can be tedious as they're not as well structured as books for consumption.(Whose merit is debatable.)\n- #areas are basically \"Map of Concept\" notes but I have recently come to the realization that its better to maintain them [Nikita Voloboev style](https://wiki.nikiv.dev/) but with heavy usage of transclusion and backlinking.\n  - \"Resources\" should be first processed and then mentioned inside the note, otherwise they should be left in inbox.\n\n### Gotta capture 'em all\n\n- Hog whatever information tickles your pickle([anything that gratifies one's intellectual curiosity](https://news.ycombinator.com/newsguidelines.html)).\n- [[swipes]] are interesting/useful bits of... [[quotes|swipes.quotes]], [[excerpts|swipes.excerpts]], [[sayings|swipes.sayings]], [[phrases|swipes.phrases]]. Essentially, ideas, opinions that are swiped off from [[others|resources.people]].\n- Make no distinction between \"your\" ideas and ideas of \"others\", because if you vibe with an idea; it's already yours.\n- But also remember \"If you've time to consume, you've time to produce.\".\n- Use [raindrop.io](https://raindrop.io) to manage your URL bookmarks.\n- If you need to bookmark a webpage or an article all together, use [MarkDownload](https://chrome.google.com/webstore/detail/markdownload-markdown-web/pcmpcfapbekmbjjkdalcgopdkipoggdi?hl=en-GB) to rip the entire page. Let's call it a [[webmark|inbox.webmark]]; it belong in the `/inbox`.\n- Similar process is employed for capturing tweets using [tweet-to-markdown](https://github.com/kbravh/tweet-to-markdown) and it also belongs in the `/inbox`.\n\n### Don't force evolution\n\n- Let your second brain evolve at it's own pace.\n- The structure should never be _too_ rigid because its meant to take form by itself.\n\n### Noise \u0026 Signal\n\n- While capturing ideas left and right is recommended, make sure you're not harming your periods of focus.\n- Have impenetrable focus periods (use Pomodoro method) where you only care about the work on hand and nothing else.\n\n### Why do any of this?\n\n- Because I can't remember everything - there's a lot of information around that interests me and there isn't enough working memory installed in me.\n- So, I make notes - to remember, to create, to meditate, to think.\n- A bodybuilder's portfolio is their body - my portfolio is my wiki.\n- Not only am I making - whatever I know - tangible by writing it down. I know exactly where to look if I ever forget something.\n- I am at the beginning of my learning adventures. When I look back at it, I will know where I came from and how my thoughts evolved over time.\n- Plus, its really fun to nerd out.\n\n## Structure of this wiki\n\n- [[slipbox.Ontology]] explains the structure of this wiki and the tags, backlinks used in it.\n- Dendron takes care of the structure and hierarchy(mostly), but I insist on using tags for backwards compatibility.\n\n## Quicklinks\n\n- [[About me|archive.about]]\n- [Github](https://github.com/zubayrrr)\n- [Twitter](https://twitter.com/zoobhalu)\n- [Blog](https://zubayrali.in)\n- [Guestbook](https://www.yourworldoftext.com/~zubayrali/)\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true,"enableSelfContainedVaults":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":true,"vaultSelectionModeOnCreate":"smart","leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2}},"randomNote":{},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{},"templateHierarchy":"template","insertNote":{"initialValue":"templates"}},"workspace":{"vaults":[{"fsPath":".","selfContained":true,"name":"Dendron"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"task","dateFormat":"y.MM.dd","addBehavior":"asOwnDomain","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"taskCompleteStatus":["done","x"],"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link"},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableHandlebarTemplates":true,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":true,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800,"enableFullHierarchyNoteTitle":false,"enableSmartRefs":true},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false},"publishing":{"theme":"dark","enableFMTitle":true,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"Noetic Noggin","description":"Personal Wiki / Digital Garden","author":"Zubayr Ali","twitter":"zoobhalu"},"github":{"enableEditLink":false,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"siteUrl":"localhost:3000","siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"wf37vjntme0oklsx52ycrn4"},"buildId":"4oDSInv8WeDX6cVSprjyl","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>